// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,da,y,ea,ga,ka,G,la,ma,na,qa,ra,K,sa,ta,O,ua,va,wa,xa,P,ya,za,Aa,Ba,Ca,Q,Da,Ea,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Ta,R,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,S,Rb,Sb,U,Tb,Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(k){return k.__proto__}:function(k){return k.constructor.prototype});
(function(){function k(a,b,e,d){this.set(a,b,e,d)}function m(){this.Vb=this.Ub=this.Xb=this.Wb=this.rc=this.qc=this.oc=this.nc=0}function n(a,b,e,d){a<b?e<d?(w=a<e?a:e,x=b>d?b:d):(w=a<d?a:d,x=b>e?b:e):e<d?(w=b<e?b:e,x=a>d?a:d):(w=b<d?b:d,x=a>e?a:e)}function p(){this.items=this.kc=null;this.qf=0;ha&&(this.kc=new Set);this.Ie=[];this.Yc=!0}function u(a){L[Fa++]=a}function t(){this.aa=this.fh=this.y=this.yh=0}function g(a){this.ye=[];this.Wj=this.Yj=this.Zj=this.Xj=0;this.Lf(a)}function b(a,b){this.Eh=
a;this.Dh=b;this.cells={}}function c(a,b){this.Eh=a;this.Dh=b;this.cells={}}function h(a,b,e){var d;return z.length?(d=z.pop(),d.fi=a,d.x=b,d.y=e,d):new aa(a,b,e)}function a(a,b,e){this.fi=a;this.x=b;this.y=e;this.ra=new ba}function e(a,b,e){var d;return fa.length?(d=fa.pop(),d.fi=a,d.x=b,d.y=e,d):new da(a,b,e)}function f(a,b,e){this.fi=a;this.x=b;this.y=e;this.ra=[];this.oe=!0;this.gc=new ba;this.Me=!1}function d(a,b){return a.Sb-b.Sb}y=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};G=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};na=function(a){return 0>a?-a:a};qa=function(a,b){return a<b?a:b};ra=Math.PI;K=function(a){return 0<=a?a|0:(a|0)-1};sa=function(a){var b=a|0;return b===a?b:b+1};ta=function(a,b,e,d,l,v,h,f){var c,
r,q,g;a<e?(r=a,c=e):(r=e,c=a);l<h?(g=l,q=h):(g=h,q=l);if(c<g||r>q)return!1;b<d?(r=b,c=d):(r=d,c=b);v<f?(g=v,q=f):(g=f,q=v);if(c<g||r>q)return!1;c=l-a+h-e;r=v-b+f-d;a=e-a;b=d-b;l=h-l;v=f-v;f=na(b*l-v*a);return na(l*r-v*c)>f?!1:na(a*r-b*c)<=f};k.prototype.set=function(a,b,e,d){this.left=a;this.top=b;this.right=e;this.bottom=d};k.prototype.Se=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};k.prototype.width=function(){return this.right-this.left};k.prototype.height=
function(){return this.bottom-this.top};k.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};k.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};k.prototype.kb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};k.prototype.We=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};O=k;m.prototype.$g=function(a){this.nc=a.left;this.oc=a.top;this.qc=a.right;this.rc=a.top;this.Wb=a.right;this.Xb=a.bottom;this.Ub=a.left;this.Vb=a.bottom};m.prototype.jm=function(a,b){if(0===b)this.$g(a);else{var e=Math.sin(b),d=Math.cos(b),l=a.left*e,v=a.top*e,h=a.right*e,e=a.bottom*e,f=a.left*d,c=a.top*d,r=a.right*d,d=a.bottom*d;this.nc=f-v;this.oc=c+l;this.qc=r-v;this.rc=c+h;this.Wb=r-e;this.Xb=d+h;this.Ub=f-e;this.Vb=d+l}};m.prototype.offset=function(a,b){this.nc+=
a;this.oc+=b;this.qc+=a;this.rc+=b;this.Wb+=a;this.Xb+=b;this.Ub+=a;this.Vb+=b;return this};var w=0,x=0;m.prototype.ak=function(a){n(this.nc,this.qc,this.Wb,this.Ub);a.left=w;a.right=x;n(this.oc,this.rc,this.Xb,this.Vb);a.top=w;a.bottom=x};m.prototype.kb=function(a,b){var e=this.nc,d=this.oc,l=this.qc-e,v=this.rc-d,h=this.Wb-e,f=this.Xb-d,c=a-e,r=b-d,q=l*l+v*v,g=l*h+v*f,v=l*c+v*r,w=h*h+f*f,k=h*c+f*r,x=1/(q*w-g*g),l=(w*v-g*k)*x,q=(q*k-g*v)*x;if(0<=l&&0<q&&1>l+q)return!0;l=this.Ub-e;v=this.Vb-d;q=l*
l+v*v;g=l*h+v*f;v=l*c+v*r;x=1/(q*w-g*g);l=(w*v-g*k)*x;q=(q*k-g*v)*x;return 0<=l&&0<q&&1>l+q};ua=m;va=function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a};wa=function(a,b){var e,d;b=K(b);if(!(0>b||b>=a.length)){e=b;for(d=a.length-1;e<d;e++)a[e]=a[e+1];xa(a,d)}};xa=function(a,b){a.length=b};P=function(a){xa(a,0)};ya=function(a,b){P(a);var e,d;e=0;for(d=b.length;e<d;++e)a[e]=b[e]};za=function(a,b){a.push.apply(a,b)};Aa=function(a,b){var e,d;e=0;for(d=a.length;e<d;++e)if(a[e]===b)return e;
return-1};Ba=function(a,b){var e=Aa(a,b);-1!==e&&wa(a,e)};Ca=function(a,b,e){return a<b?b:a>e?e:a};Q=function(a){return a/(180/ra)};Da=function(a){return 180/ra*a};Ea=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ja=function(a){return Ea(Da(a))};Ka=function(a){return Ia(Q(a))};La=function(a,b,e,d){return Math.atan2(d-b,e-a)};Ma=function(a,b){if(a===b)return 0;var e=Math.sin(a),d=Math.cos(a),l=Math.sin(b),v=Math.cos(b),e=e*l+d*v;return 1<=e?0:-1>=e?ra:Math.acos(e)};
Na=function(a,b,e){var d=Math.sin(a),l=Math.cos(a),v=Math.sin(b),h=Math.cos(b);return Math.acos(d*v+l*h)>e?0<l*v-d*h?Ia(a+e):Ia(a-e):Ia(b)};Oa=function(a,b){var e=Math.sin(a),d=Math.cos(a),l=Math.sin(b),v=Math.cos(b);return 0>=d*l-e*v};Pa=function(a,b,e,d){a=e-a;b=d-b;return Math.sqrt(a*a+b*b)};Qa=function(a,b){return!a!==!b};Ra=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Ta=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var q=+new Date;R=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var l=!1,r=l=!1,N=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),r=/(iphone|ipod|ipad)/i.test(navigator.userAgent),N=window.c2ejecta);
var ha=!l&&!N&&!r&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.Cc()?!1:ha?this.kc.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(ha)this.kc.has(a)||(this.kc.add(a),this.Yc=!1);else{var b=a.toString(),e=this.items;e?e.hasOwnProperty(b)||(e[b]=a,this.qf++,this.Yc=!1):(this.items={},this.items[b]=a,this.qf=1,this.Yc=!1)}};p.prototype.remove=function(a){if(!this.Cc())if(ha)this.kc.has(a)&&(this.kc["delete"](a),
this.Yc=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.qf--,this.Yc=!1)}};p.prototype.clear=function(){this.Cc()||(ha?this.kc.clear():(this.items=null,this.qf=0),P(this.Ie),this.Yc=!0)};p.prototype.Cc=function(){return 0===this.count()};p.prototype.count=function(){return ha?this.kc.size:this.qf};var L=null,Fa=0;p.prototype.Uq=function(){if(!this.Yc){if(ha)P(this.Ie),L=this.Ie,Fa=0,this.kc.forEach(u),L=null,Fa=0;else{var a=this.Ie;P(a);var b,e=0,d=this.items;
if(d)for(b in d)d.hasOwnProperty(b)&&(a[e++]=d[b])}this.Yc=!0}};p.prototype.qd=function(){this.Uq();return this.Ie};ba=p;new ba;Ua=function(a,b){ha?Va(a,b.kc):Wa(a,b.qd())};Va=function(a,b){var e,d,l,v;d=e=0;for(l=a.length;e<l;++e)v=a[e],b.has(v)||(a[d++]=v);xa(a,d)};Wa=function(a,b){var e,d,l,v;d=e=0;for(l=a.length;e<l;++e)v=a[e],-1===Aa(b,v)&&(a[d++]=v);xa(a,d)};t.prototype.add=function(a){this.y=a-this.yh;this.fh=this.aa+this.y;this.yh=this.fh-this.aa-this.y;this.aa=this.fh};t.prototype.reset=
function(){this.aa=this.fh=this.y=this.yh=0};Xa=t;Ya=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.Lf=function(a){this.Sl=a;this.Sg=a.length/2;this.ye.length=a.length;this.zh=this.Ah=-1;this.dk=0};g.prototype.Up=function(){return!this.Sl.length};g.prototype.Ca=function(){for(var a=this.ye,b=a[0],e=b,d=a[1],l=d,v,h,f=1,c=this.Sg;f<c;++f)h=2*f,v=a[h],h=a[h+1],v<b&&(b=v),v>e&&(e=v),h<d&&(d=h),h>l&&(l=h);this.Xj=b;this.Yj=e;this.Zj=d;this.Wj=l};g.prototype.$g=function(a,
b,e){this.ye.length=8;this.Sg=4;var d=this.ye;d[0]=a.left-b;d[1]=a.top-e;d[2]=a.right-b;d[3]=a.top-e;d[4]=a.right-b;d[5]=a.bottom-e;d[6]=a.left-b;d[7]=a.bottom-e;this.Ah=a.right-a.left;this.zh=a.bottom-a.top;this.Ca()};g.prototype.Ln=function(a,b,e){if(this.Ah!==a||this.zh!==b||this.dk!==e){this.Ah=a;this.zh=b;this.dk=e;var d,l,v,h,f,c=0,r=1,q=this.Sl,g=this.ye;0!==e&&(c=Math.sin(e),r=Math.cos(e));e=0;for(v=this.Sg;e<v;e++)d=2*e,l=d+1,h=q[d]*a,f=q[l]*b,g[d]=h*r-f*c,g[l]=f*r+h*c;this.Ca()}};g.prototype.kb=
function(a,b){var e=this.ye;if(a===e[0]&&b===e[1])return!0;var d,l,v,h=this.Sg,f=this.Xj-110,c=this.Zj-101,r=this.Yj+131,q=this.Wj+120,g,w,k=0,x=0;for(d=0;d<h;d++)l=2*d,v=(d+1)%h*2,g=e[l],l=e[l+1],w=e[v],v=e[v+1],ta(f,c,a,b,g,l,w,v)&&k++,ta(r,q,a,b,g,l,w,v)&&x++;return 1===k%2||1===x%2};Za=g;b.prototype.cd=function(a,b,e){var d;d=this.cells[a];return d?(d=d[b])?d:e?(d=h(this,a,b),this.cells[a][b]=d):null:e?(d=h(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};b.prototype.La=function(a){return K(a/
this.Eh)};b.prototype.Ma=function(a){return K(a/this.Dh)};b.prototype.update=function(a,b,e){var d,l,v,h,f;if(b)for(d=b.left,l=b.right;d<=l;++d)for(v=b.top,h=b.bottom;v<=h;++v)if(!e||!e.kb(d,v))if(f=this.cd(d,v,!1))f.remove(a),f.Cc()&&(f.ra.clear(),1E3>z.length&&z.push(f),this.cells[d][v]=null);if(e)for(d=e.left,l=e.right;d<=l;++d)for(v=e.top,h=e.bottom;v<=h;++v)b&&b.kb(d,v)||this.cd(d,v,!0).li(a)};b.prototype.Ul=function(a,b){var e,d,l,v,h,f;e=this.La(a.left);l=this.Ma(a.top);d=this.La(a.right);
for(h=this.Ma(a.bottom);e<=d;++e)for(v=l;v<=h;++v)(f=this.cd(e,v,!1))&&f.dump(b)};$a=b;c.prototype.cd=function(a,b,d){var l;l=this.cells[a];return l?(l=l[b])?l:d?(l=e(this,a,b),this.cells[a][b]=l):null:d?(l=e(this,a,b),this.cells[a]={},this.cells[a][b]=l):null};c.prototype.La=function(a){return K(a/this.Eh)};c.prototype.Ma=function(a){return K(a/this.Dh)};c.prototype.update=function(a,b,e){var d,l,v,h,f;if(b)for(d=b.left,l=b.right;d<=l;++d)for(v=b.top,h=b.bottom;v<=h;++v)if(!e||!e.kb(d,v))if(f=this.cd(d,
v,!1))f.remove(a),f.Cc()&&(f.reset(),1E3>fa.length&&fa.push(f),this.cells[d][v]=null);if(e)for(d=e.left,l=e.right;d<=l;++d)for(v=e.top,h=e.bottom;v<=h;++v)b&&b.kb(d,v)||this.cd(d,v,!0).li(a)};c.prototype.Ul=function(a,b,e,d,l){var v,h;a=this.La(a);b=this.Ma(b);e=this.La(e);for(v=this.Ma(d);a<=e;++a)for(d=b;d<=v;++d)(h=this.cd(a,d,!1))&&h.dump(l)};c.prototype.$p=function(a){var b,e,d,l,v;b=a.left;d=a.top;e=a.right;for(l=a.bottom;b<=e;++b)for(a=d;a<=l;++a)if(v=this.cd(b,a,!1))v.oe=!1};ab=c;var z=[];
a.prototype.Cc=function(){return this.ra.Cc()};a.prototype.li=function(a){this.ra.add(a)};a.prototype.remove=function(a){this.ra.remove(a)};a.prototype.dump=function(a){za(a,this.ra.qd())};aa=a;var fa=[];f.prototype.Cc=function(){if(!this.ra.length)return!0;if(this.ra.length>this.gc.count())return!1;this.Uh();return!0};f.prototype.li=function(a){this.gc.contains(a)?(this.gc.remove(a),this.gc.Cc()&&(this.Me=!1)):this.ra.length?(this.ra[this.ra.length-1].ec()>a.ec()&&(this.oe=!1),this.ra.push(a)):(this.ra.push(a),
this.oe=!0)};f.prototype.remove=function(a){this.gc.add(a);this.Me=!0;30<=this.gc.count()&&this.Uh()};f.prototype.Uh=function(){this.Me&&(this.gc.count()===this.ra.length?this.reset():(Ua(this.ra,this.gc),this.gc.clear(),this.Me=!1))};f.prototype.wo=function(){this.oe||(this.ra.sort(d),this.oe=!0)};f.prototype.reset=function(){P(this.ra);this.oe=!0;this.gc.clear();this.Me=!1};f.prototype.dump=function(a){this.Uh();this.wo();this.ra.length&&a.push(this.ra)};da=f;var ia="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
bb=function(a){return 0>=a||11<=a?"source-over":ia[a-1]};cb=function(a,b,e){if(e)switch(a.Ia=e.ONE,a.Ga=e.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ia=e.ONE;a.Ga=e.ONE;break;case 3:a.Ia=e.ONE;a.Ga=e.ZERO;break;case 4:a.Ia=e.ONE_MINUS_DST_ALPHA;a.Ga=e.ONE;break;case 5:a.Ia=e.DST_ALPHA;a.Ga=e.ZERO;break;case 6:a.Ia=e.ZERO;a.Ga=e.SRC_ALPHA;break;case 7:a.Ia=e.ONE_MINUS_DST_ALPHA;a.Ga=e.ZERO;break;case 8:a.Ia=e.ZERO;a.Ga=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ia=e.DST_ALPHA;a.Ga=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ia=
e.ONE_MINUS_DST_ALPHA,a.Ga=e.SRC_ALPHA}};db=function(a){return Math.round(1E6*a)/1E6};eb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};fb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||eb(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(k){var m=new Vb(3);k&&(m[0]=k[0],m[1]=k[1],m[2]=k[2]);return m}
function V(k){var m=new Vb(16);k&&(m[0]=k[0],m[1]=k[1],m[2]=k[2],m[3]=k[3],m[4]=k[4],m[5]=k[5],m[6]=k[6],m[7]=k[7],m[8]=k[8],m[9]=k[9],m[10]=k[10],m[11]=k[11],m[12]=k[12],m[13]=k[13],m[14]=k[14],m[15]=k[15]);return m}function Xb(k,m){m[0]=k[0];m[1]=k[1];m[2]=k[2];m[3]=k[3];m[4]=k[4];m[5]=k[5];m[6]=k[6];m[7]=k[7];m[8]=k[8];m[9]=k[9];m[10]=k[10];m[11]=k[11];m[12]=k[12];m[13]=k[13];m[14]=k[14];m[15]=k[15]}
function Yb(k,m){var n=m[0],p=m[1];m=m[2];k[0]*=n;k[1]*=n;k[2]*=n;k[3]*=n;k[4]*=p;k[5]*=p;k[6]*=p;k[7]*=p;k[8]*=m;k[9]*=m;k[10]*=m;k[11]*=m}
function Zb(k,m,n,p){p||(p=V());var u,t,g,b,c,h,a,e,f=k[0],d=k[1];k=k[2];t=n[0];g=n[1];u=n[2];n=m[1];h=m[2];f===m[0]&&d===n&&k===h?(k=p,k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1):(n=f-m[0],h=d-m[1],a=k-m[2],e=1/Math.sqrt(n*n+h*h+a*a),n*=e,h*=e,a*=e,m=g*a-u*h,u=u*n-t*a,t=t*h-g*n,(e=Math.sqrt(m*m+u*u+t*t))?(e=1/e,m*=e,u*=e,t*=e):t=u=m=0,g=h*t-a*u,b=a*m-n*t,c=n*u-h*m,(e=Math.sqrt(g*g+b*b+c*c))?(e=1/e,g*=e,b*=e,c*=e):c=b=g=0,
p[0]=m,p[1]=g,p[2]=n,p[3]=0,p[4]=u,p[5]=b,p[6]=h,p[7]=0,p[8]=t,p[9]=c,p[10]=a,p[11]=0,p[12]=-(m*f+u*d+t*k),p[13]=-(g*f+b*d+c*k),p[14]=-(n*f+h*d+a*k),p[15]=1)}
(function(){function k(b,c,h){this.Id=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.M=!!h;this.tg=this.kf=!1;this.Lh=0;this.qh=1;this.yj=1E3;this.br=(this.yj-this.qh)/32768;this.Bh=Wb([0,0,100]);this.$k=Wb([0,0,0]);this.Em=Wb([0,1,0]);this.Yf=Wb([1,1,1]);this.nk=!0;this.Jg=V();this.hb=V();this.Di=V();this.Kh=V();this.g=b;this.version=0===this.g.getParameter(this.g.VERSION).indexOf("WebGL 2")?2:1;this.Hk()}function m(b,c,h){this.g=b;this.Mf=c;
this.name=h;this.tb=b.getAttribLocation(c,"aPos");this.ld=b.getAttribLocation(c,"aTex");this.Yk=b.getUniformLocation(c,"matP");this.Fg=b.getUniformLocation(c,"matMV");this.te=b.getUniformLocation(c,"opacity");this.Gi=b.getUniformLocation(c,"colorFill");this.Zk=b.getUniformLocation(c,"samplerFront");this.vf=b.getUniformLocation(c,"samplerBack");this.Od=b.getUniformLocation(c,"destStart");this.Nd=b.getUniformLocation(c,"destEnd");this.xf=b.getUniformLocation(c,"seconds");this.Ii=b.getUniformLocation(c,
"pixelWidth");this.Hi=b.getUniformLocation(c,"pixelHeight");this.uf=b.getUniformLocation(c,"layerScale");this.tf=b.getUniformLocation(c,"layerAngle");this.yf=b.getUniformLocation(c,"viewOrigin");this.wf=b.getUniformLocation(c,"scrollPos");this.Hp=!!(this.Ii||this.Hi||this.xf||this.vf||this.Od||this.Nd||this.uf||this.tf||this.yf||this.wf);this.hl=this.il=-999;this.Ig=1;this.dl=this.cl=0;this.fl=this.bl=this.al=1;this.ll=this.kl=this.jl=this.nl=this.ml=this.el=0;this.Ci=[];this.gl=V();this.te&&b.uniform1f(this.te,
1);this.Gi&&b.uniform4f(this.Gi,1,1,1,1);this.Zk&&b.uniform1i(this.Zk,0);this.vf&&b.uniform1i(this.vf,1);this.Od&&b.uniform2f(this.Od,0,0);this.Nd&&b.uniform2f(this.Nd,1,1);this.uf&&b.uniform1f(this.uf,1);this.tf&&b.uniform1f(this.tf,0);this.yf&&b.uniform2f(this.yf,0,0);this.wf&&b.uniform2f(this.wf,0,0);this.xf&&b.uniform1f(this.xf,0);this.Fd=!1}function n(b,c){return b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]&&b[4]===c[4]&&b[5]===c[5]&&b[6]===c[6]&&b[7]===c[7]&&b[8]===c[8]&&b[9]===c[9]&&
b[10]===c[10]&&b[11]===c[11]&&b[12]===c[12]&&b[13]===c[13]&&b[14]===c[14]&&b[15]===c[15]}function p(b,c){this.type=b;this.m=c;this.g=c.g;this.fc=this.Ka=this.Il=0;this.B=this.zb=null;this.km=[]}var u=V();k.prototype.Hk=function(){var b=this.g,c;this.Sk=1;this.Kd=this.Jd=null;this.gg=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.M?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.Tk=b.ONE;this.Rk=b.ONE_MINUS_SRC_ALPHA;this.oh=new Float32Array(8E3*(this.M?3:2));this.hh=new Float32Array(16E3);this.Nl=new Float32Array(32E3);this.Ti=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Ti);b.bufferData(b.ARRAY_BUFFER,this.Nl.byteLength,b.DYNAMIC_DRAW);this.Xf=Array(4);this.Rf=Array(4);for(c=0;4>c;c++)this.Xf[c]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Xf[c]),b.bufferData(b.ARRAY_BUFFER,this.oh.byteLength,b.DYNAMIC_DRAW),this.Rf[c]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Rf[c]),b.bufferData(b.ARRAY_BUFFER,this.hh.byteLength,b.DYNAMIC_DRAW);this.uc=0;this.Jp=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Jp);for(var h=new Uint16Array(12E3),a=c=0;12E3>c;)h[c++]=a,h[c++]=a+1,h[c++]=a+2,h[c++]=a,h[c++]=a+2,h[c++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,h,b.STATIC_DRAW);this.Ui=this.Ee=this.Pc=0;this.Z=[];c=this.M?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";h=this.Te({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},c,"<default>");this.Z.push(h);h=this.Te({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Z.push(h);h=this.Te({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},c,"<earlyz>");this.Z.push(h);h=this.Te({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
c,"<fill>");this.Z.push(h);for(var e in $b)$b.hasOwnProperty(e)&&this.Z.push(this.Te($b[e],c,e));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.Xc=[];this.tc=0;this.Ha=!1;this.jk=this.rf=-1;this.de=null;this.Th=b.createFramebuffer();this.ig=this.Tg=null;this.Uj=!1;this.M&&(this.ig=b.createRenderbuffer());this.pd=Wb([0,0,0]);this.ol=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.ol&&(this.ol=2048);this.Qa(0)};m.prototype.vj=function(b){n(this.gl,b)||(Xb(b,this.gl),this.g.uniformMatrix4fv(this.Fg,
!1,b))};k.prototype.Te=function(b,c,h){var a=this.g,e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(e,b.src);a.compileShader(e);if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(e),a.deleteShader(e),Error("error compiling fragment shader: "+b);var f=a.createShader(a.VERTEX_SHADER);a.shaderSource(f,c);a.compileShader(f);if(!a.getShaderParameter(f,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(f),a.deleteShader(e),a.deleteShader(f),Error("error compiling vertex shader: "+b);c=
a.createProgram();a.attachShader(c,e);a.attachShader(c,f);a.linkProgram(c);if(!a.getProgramParameter(c,a.LINK_STATUS))throw b=a.getProgramInfoLog(c),a.deleteShader(e),a.deleteShader(f),a.deleteProgram(c),Error("error linking shader program: "+b);a.useProgram(c);a.deleteShader(e);a.deleteShader(f);e=new m(a,c,h);e.Rh=b.Rh||0;e.Sh=b.Sh||0;e.ik=!!b.ik;e.Mb=!!b.Mb;e.Qj=!!b.Qj;e.C=b.C||[];b=0;for(f=e.C.length;b<f;b++)e.C[b][1]=a.getUniformLocation(c,e.C[b][0]),e.Ci.push(0),a.uniform1f(e.C[b][1],0);return e};
k.prototype.di=function(b){var c,h;c=0;for(h=this.Z.length;c<h;c++)if(this.Z[c].name===b)return c;return-1};k.prototype.Rl=function(b,c,h){var a=this.hb,e=this.Jg,f=[0,0,0,0,0,0,0,0];f[0]=a[0]*b+a[4]*c+a[12];f[1]=a[1]*b+a[5]*c+a[13];f[2]=a[2]*b+a[6]*c+a[14];f[3]=a[3]*b+a[7]*c+a[15];f[4]=e[0]*f[0]+e[4]*f[1]+e[8]*f[2]+e[12]*f[3];f[5]=e[1]*f[0]+e[5]*f[1]+e[9]*f[2]+e[13]*f[3];f[6]=e[2]*f[0]+e[6]*f[1]+e[10]*f[2]+e[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],h[0]=(.5*f[4]+
.5)*this.width,h[1]=(.5*f[5]+.5)*this.height)};k.prototype.Td=function(b,c,h){if(this.width!==b||this.height!==c||h){this.Cd();h=this.g;this.width=b;this.height=c;h.viewport(0,0,b,c);Zb(this.Bh,this.$k,this.Em,this.hb);if(this.M){var a=-b/2;b=b/2;var e=c/2;c=-c/2;var f=this.qh,d=this.yj,g=this.Jg;g||(g=V());var k=b-a,q=c-e,l=d-f;g[0]=2/k;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/q;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/l;g[11]=0;g[12]=-(a+b)/k;g[13]=-(c+e)/q;g[14]=-(d+f)/l;g[15]=1;this.Yf[0]=1;this.Yf[1]=
1}else c=b/c,a=this.qh,b=this.yj,g=this.Jg,d=a*Math.tan(45*Math.PI/360),c*=d,e=-c,f=-d,g||(g=V()),k=c-e,q=d-f,l=b-a,g[0]=2*a/k,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*a/q,g[6]=0,g[7]=0,g[8]=(c+e)/k,g[9]=(d+f)/q,g[10]=-(b+a)/l,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(b*a*2)/l,g[15]=0,a=[0,0],b=[0,0],this.Rl(0,0,a),this.Rl(1,1,b),this.Yf[0]=1/(b[0]-a[0]),this.Yf[1]=-1/(b[1]-a[1]);a=0;for(b=this.Z.length;a<b;a++)e=this.Z[a],e.Fd=!1,e.Yk&&(h.useProgram(e.Mf),h.uniformMatrix4fv(e.Yk,!1,this.Jg));h.useProgram(this.Z[this.rf].Mf);
h.bindTexture(h.TEXTURE_2D,null);h.activeTexture(h.TEXTURE1);h.bindTexture(h.TEXTURE_2D,null);h.activeTexture(h.TEXTURE0);this.Kd=this.Jd=null;this.ig&&(h.bindFramebuffer(h.FRAMEBUFFER,this.Th),h.bindRenderbuffer(h.RENDERBUFFER,this.ig),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,this.width,this.height),this.Uj||(h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,this.ig),this.Uj=!0),h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null),
this.Tg=null)}};k.prototype.jc=function(){Zb(this.Bh,this.$k,this.Em,this.hb);Yb(this.hb,this.Yf)};k.prototype.translate=function(b,c){if(0!==b||0!==c){this.pd[0]=b;this.pd[1]=c;this.pd[2]=0;var h=this.hb,a=this.pd,e=a[0],f=a[1],a=a[2];h[12]=h[0]*e+h[4]*f+h[8]*a+h[12];h[13]=h[1]*e+h[5]*f+h[9]*a+h[13];h[14]=h[2]*e+h[6]*f+h[10]*a+h[14];h[15]=h[3]*e+h[7]*f+h[11]*a+h[15]}};k.prototype.scale=function(b,c){if(1!==b||1!==c)this.pd[0]=b,this.pd[1]=c,this.pd[2]=1,Yb(this.hb,this.pd)};k.prototype.ej=function(b){if(0!==
b){var c=this.hb,h,a=Math.sin(b);b=Math.cos(b);var e=c[0],f=c[1],d=c[2],g=c[3],k=c[4],q=c[5],l=c[6],r=c[7];h?c!==h&&(h[8]=c[8],h[9]=c[9],h[10]=c[10],h[11]=c[11],h[12]=c[12],h[13]=c[13],h[14]=c[14],h[15]=c[15]):h=c;h[0]=e*b+k*a;h[1]=f*b+q*a;h[2]=d*b+l*a;h[3]=g*b+r*a;h[4]=e*-a+k*b;h[5]=f*-a+q*b;h[6]=d*-a+l*b;h[7]=g*-a+r*b}};k.prototype.Rb=function(){if(!n(this.Di,this.hb)){var b=this.Xa();b.type=5;b.B?Xb(this.hb,b.B):b.B=V(this.hb);Xb(this.hb,this.Di);this.Ha=!1}};k.prototype.Xg=function(b){this.M&&
(32760<b&&(b=32760),this.Lh=this.Bh[2]-this.qh-b*this.br)};p.prototype.fo=function(){var b=this.g,c=this.m;0!==this.Ka?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,c.Th),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),c.tg=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),c.tg=!1)};p.prototype.ko=function(){this.g.bindTexture(this.g.TEXTURE_2D,
this.zb)};p.prototype.lo=function(){var b=this.g;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.zb);b.activeTexture(b.TEXTURE0)};p.prototype.ho=function(){var b=this.Il,c=this.m;c.gg=b;c=c.de;c.te&&c.Ig!==b&&(c.Ig=b,this.g.uniform1f(c.te,b))};p.prototype.$n=function(){this.g.drawElements(this.g.TRIANGLES,this.fc,this.g.UNSIGNED_SHORT,this.Ka)};p.prototype.bo=function(){this.g.blendFunc(this.Ka,this.fc)};p.prototype.mo=function(){var b,c,h,a=this.m.Z,e=this.m.jk;b=0;for(c=a.length;b<c;b++)h=
a[b],b===e&&h.Fg?(h.vj(this.B),h.Fd=!0):h.Fd=!1;Xb(this.B,this.m.Kh)};p.prototype.ao=function(){var b=this.g,c=this.m;this.zb?(c.Kd===this.zb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),c.Kd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,c.Th),c.tg||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.zb,0)):(c.M||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};p.prototype.Xn=
function(){var b=this.g,c=this.Ka;0===c?(b.clearColor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clear(b.COLOR_BUFFER_BIT)):1===c?(b.enable(b.SCISSOR_TEST),b.scissor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};p.prototype.eo=function(){var b=this.g;0!==this.Ka?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};p.prototype.Zn=function(){var b=this.g,c=this.m;c.M&&b.disable(b.DEPTH_TEST);var h=c.Z[1];
b.useProgram(h.Mf);!h.Fd&&h.Fg&&(h.vj(c.Kh),h.Fd=!0);b.enableVertexAttribArray(h.tb);b.bindBuffer(b.ARRAY_BUFFER,c.Ti);b.vertexAttribPointer(h.tb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Ka/4,this.fc);h=c.de;b.useProgram(h.Mf);0<=h.tb&&(b.enableVertexAttribArray(h.tb),b.bindBuffer(b.ARRAY_BUFFER,c.Xf[c.uc]),b.vertexAttribPointer(h.tb,c.M?3:2,b.FLOAT,!1,0,0));0<=h.ld&&(b.enableVertexAttribArray(h.ld),b.bindBuffer(b.ARRAY_BUFFER,c.Rf[c.uc]),b.vertexAttribPointer(h.ld,2,b.FLOAT,!1,0,0));c.M&&b.enable(b.DEPTH_TEST)};
p.prototype.io=function(){var b=this.g,c=this.m,h=c.Z[this.Ka];c.jk=this.Ka;c.de=h;b.useProgram(h.Mf);!h.Fd&&h.Fg&&(h.vj(c.Kh),h.Fd=!0);h.te&&h.Ig!==c.gg&&(h.Ig=c.gg,b.uniform1f(h.te,c.gg));0<=h.tb&&(b.enableVertexAttribArray(h.tb),b.bindBuffer(b.ARRAY_BUFFER,c.Xf[c.uc]),b.vertexAttribPointer(h.tb,c.M?3:2,b.FLOAT,!1,0,0));0<=h.ld&&(b.enableVertexAttribArray(h.ld),b.bindBuffer(b.ARRAY_BUFFER,c.Rf[c.uc]),b.vertexAttribPointer(h.ld,2,b.FLOAT,!1,0,0))};p.prototype.co=function(){var b=this.B;this.g.uniform4f(this.m.de.Gi,
b[0],b[1],b[2],b[3])};p.prototype.jo=function(){var b,c,h=this.m.de,a=this.g;b=this.B;h.vf&&this.m.Kd!==this.zb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.zb),this.m.Kd=this.zb,a.activeTexture(a.TEXTURE0));var e=b[0];h.Ii&&e!==h.il&&(h.il=e,a.uniform1f(h.Ii,e));e=b[1];h.Hi&&e!==h.hl&&(h.hl=e,a.uniform1f(h.Hi,e));e=b[2];c=b[3];!h.Od||e===h.cl&&c===h.dl||(h.cl=e,h.dl=c,a.uniform2f(h.Od,e,c));e=b[4];c=b[5];!h.Nd||e===h.al&&c===h.bl||(h.al=e,h.bl=c,a.uniform2f(h.Nd,e,c));e=b[6];h.uf&&
e!==h.fl&&(h.fl=e,a.uniform1f(h.uf,e));e=b[7];h.tf&&e!==h.el&&(h.el=e,a.uniform1f(h.tf,e));e=b[8];c=b[9];!h.yf||e===h.ml&&c===h.nl||(h.ml=e,h.nl=c,a.uniform2f(h.yf,e,c));e=b[10];c=b[11];!h.wf||e===h.jl&&c===h.kl||(h.jl=e,h.kl=c,a.uniform2f(h.wf,e,c));e=b[12];h.xf&&e!==h.ll&&(h.ll=e,a.uniform1f(h.xf,e));if(h.C.length)for(b=0,c=h.C.length;b<c;b++)e=this.km[b],e!==h.Ci[b]&&(h.Ci[b]=e,a.uniform1f(h.C[b][1],e))};k.prototype.Xa=function(){this.tc===this.Xc.length&&this.Xc.push(new p(0,this));return this.Xc[this.tc++]};
k.prototype.Cd=function(){if(0!==this.tc&&!this.g.isContextLost()){var b=this.g;0<this.Ui&&(b.bindBuffer(b.ARRAY_BUFFER,this.Ti),b.bufferSubData(b.ARRAY_BUFFER,0,this.Nl.subarray(0,this.Ui)),c&&0<=c.tb&&"<point>"===c.name&&b.vertexAttribPointer(c.tb,4,b.FLOAT,!1,0,0));if(0<this.Pc){var c=this.de;b.bindBuffer(b.ARRAY_BUFFER,this.Xf[this.uc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.oh.subarray(0,this.Pc));c&&0<=c.tb&&"<point>"!==c.name&&b.vertexAttribPointer(c.tb,this.M?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,
this.Rf[this.uc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.hh.subarray(0,this.Ee));c&&0<=c.ld&&"<point>"!==c.name&&b.vertexAttribPointer(c.ld,2,b.FLOAT,!1,0,0)}for(var h,b=0,c=this.tc;b<c;b++)switch(h=this.Xc[b],h.type){case 1:h.$n();break;case 2:h.ko();break;case 3:h.ho();break;case 4:h.bo();break;case 5:h.mo();break;case 6:h.ao();break;case 7:h.Xn();break;case 8:h.Zn();break;case 9:h.io();break;case 10:h.jo();break;case 11:h.lo();break;case 12:h.co();break;case 13:h.eo();break;case 14:h.fo()}this.Ui=
this.Ee=this.Pc=this.tc=0;this.tg=this.Ha=!1;this.uc++;4<=this.uc&&(this.uc=0)}};k.prototype.Jf=function(b){if(b!==this.Sk&&!this.kf){var c=this.Xa();c.type=3;this.Sk=c.Il=b;this.Ha=!1}};k.prototype.xb=function(b){if(b!==this.Jd){var c=this.Xa();c.type=2;this.Jd=c.zb=b;this.Ha=!1}};k.prototype.nd=function(b,c){if((b!==this.Tk||c!==this.Rk)&&!this.kf){var h=this.Xa();h.type=4;h.Ka=b;h.fc=c;this.Tk=b;this.Rk=c;this.Ha=!1}};k.prototype.cm=function(){this.nd(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};k.prototype.If=
function(b,c,h,a,e,f,d,g){15992<=this.Pc&&this.Cd();var k=this.Pc,q=this.Ee,l=this.oh,r=this.hh,m=this.Lh;if(this.Ha)this.Xc[this.tc-1].fc+=6;else{var n=this.Xa();n.type=1;n.Ka=this.M?k:k/2*3;n.fc=6;this.Ha=!0}this.M?(l[k++]=b,l[k++]=c,l[k++]=m,l[k++]=h,l[k++]=a,l[k++]=m,l[k++]=e,l[k++]=f,l[k++]=m,l[k++]=d,l[k++]=g,l[k++]=m):(l[k++]=b,l[k++]=c,l[k++]=h,l[k++]=a,l[k++]=e,l[k++]=f,l[k++]=d,l[k++]=g);r[q++]=0;r[q++]=0;r[q++]=1;r[q++]=0;r[q++]=1;r[q++]=1;r[q++]=0;r[q++]=1;this.Pc=k;this.Ee=q};k.prototype.Sd=
function(b,c,h,a,e,f,d,g,k){15992<=this.Pc&&this.Cd();var q=this.Pc,l=this.Ee,r=this.oh,m=this.hh,n=this.Lh;if(this.Ha)this.Xc[this.tc-1].fc+=6;else{var L=this.Xa();L.type=1;L.Ka=this.M?q:q/2*3;L.fc=6;this.Ha=!0}var L=k.left,p=k.top,z=k.right;k=k.bottom;this.M?(r[q++]=b,r[q++]=c,r[q++]=n,r[q++]=h,r[q++]=a,r[q++]=n,r[q++]=e,r[q++]=f,r[q++]=n,r[q++]=d,r[q++]=g,r[q++]=n):(r[q++]=b,r[q++]=c,r[q++]=h,r[q++]=a,r[q++]=e,r[q++]=f,r[q++]=d,r[q++]=g);m[l++]=L;m[l++]=p;m[l++]=z;m[l++]=p;m[l++]=z;m[l++]=k;m[l++]=
L;m[l++]=k;this.Pc=q;this.Ee=l};k.prototype.Qa=function(b){if(this.rf!==b){if(!this.Z[b]){if(0===this.rf)return;b=0}var c=this.Xa();c.type=9;this.rf=c.Ka=b;this.Ha=!1}};k.prototype.Gf=function(b){b=this.Z[b];return!(!b.Od&&!b.Nd)};k.prototype.Wi=function(b){b=this.Z[b];return!!(b.Od||b.Nd||b.ik)};k.prototype.Vi=function(b){return this.Z[b].Mb};k.prototype.vq=function(b){b=this.Z[b];return 0!==b.Rh||0!==b.Sh};k.prototype.pp=function(b){return this.Z[b].Rh};k.prototype.qp=function(b){return this.Z[b].Sh};
k.prototype.rp=function(b,c){return this.Z[b].C[c][2]};k.prototype.Rg=function(b){return this.Z[b].Qj};k.prototype.Be=function(b,c,h,a,e,f,d,g,k,q,l,r,m,n,p){var t=this.Z[this.rf],z,u;if(t.Hp||p.length){z=this.Xa();z.type=10;z.B?Xb(this.hb,z.B):z.B=V();u=z.B;u[0]=c;u[1]=h;u[2]=a;u[3]=e;u[4]=f;u[5]=d;u[6]=g;u[7]=k;u[8]=q;u[9]=l;u[10]=r;u[11]=m;u[12]=n;t.vf?z.zb=b:z.zb=null;if(p.length)for(h=z.km,h.length=p.length,b=0,c=p.length;b<c;b++)h[b]=p[b];this.Ha=!1}};k.prototype.clear=function(b,c,h,a){var e=
this.Xa();e.type=7;e.Ka=0;e.B||(e.B=V());e.B[0]=b;e.B[1]=c;e.B[2]=h;e.B[3]=a;this.Ha=!1};k.prototype.clearRect=function(b,c,h,a){if(!(0>h||0>a)){var e=this.Xa();e.type=7;e.Ka=1;e.B||(e.B=V());e.B[0]=b;e.B[1]=c;e.B[2]=h;e.B[3]=a;this.Ha=!1}};k.prototype.fm=function(b){if(this.M&&(b=!!b,this.kf!==b)){var c=this.Xa();c.type=14;c.Ka=b?1:0;this.Ha=!1;this.kf=b;this.Tg=null;this.kf?this.Qa(2):this.Qa(0)}};k.prototype.em=function(b){if(this.M){var c=this.Xa();c.type=13;c.Ka=b?1:0;this.Ha=!1}};k.prototype.uk=
function(){Xb(this.Di,u);this.jc();this.Rb();var b=this.width/2,c=this.height/2;this.If(-b,c,b,c,b,-c,-b,-c);Xb(u,this.hb);this.Rb()};k.prototype.dm=function(b,c,h){this.Qa(3);var a=this.Xa();a.type=12;a.B||(a.B=V());a.B[0]=b;a.B[1]=c;a.B[2]=h;a.B[3]=1;this.Ha=!1};k.prototype.Jq=function(){this.Qa(0)};k.prototype.zq=function(){this.Qa(2)};k.prototype.uq=function(){this.Cd();this.g.flush()};var t=[],g={};k.prototype.On=function(){P(t);g={}};k.prototype.Xk=function(b,c,h){var a;a=!1;c=!!c;var e=b.src+
","+a+","+c+(a?",undefined":""),f=null;if("undefined"!==typeof b.src&&g.hasOwnProperty(e))return f=g[e],f.bg++,f;this.Cd();var d=this.g,k=la(b.width)&&la(b.height),f=d.createTexture();d.bindTexture(d.TEXTURE_2D,f);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=d.RGBA,q=d.RGBA,l=d.UNSIGNED_BYTE;if(h&&!this.Id)switch(h){case 1:q=m=d.RGB;break;case 2:l=d.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=d.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=m=d.RGB,l=d.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!k&&a){h=
document.createElement("canvas");h.width=ma(b.width);h.height=ma(b.height);var r=h.getContext("2d");"undefined"!==typeof r.imageSmoothingEnabled?r.imageSmoothingEnabled=c:(r.webkitImageSmoothingEnabled=c,r.mozImageSmoothingEnabled=c,r.msImageSmoothingEnabled=c);r.drawImage(b,0,0,b.width,b.height,0,0,h.width,h.height);d.texImage2D(d.TEXTURE_2D,0,m,q,l,h)}else d.texImage2D(d.TEXTURE_2D,0,m,q,l,b);a?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,
d.REPEAT)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE));c?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),(k||2<=this.version)&&this.nk?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,
d.NEAREST));d.bindTexture(d.TEXTURE_2D,null);this.Jd=null;f.wd=b.width;f.vd=b.height;f.bg=1;f.ck=e;t.push(f);return g[e]=f};k.prototype.lb=function(b,c,h){var a;this.Cd();var e=this.g;this.Id&&(a=!1);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,b,c,0,e.RGBA,a?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,h?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,h?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Jd=null;f.wd=b;f.vd=c;t.push(f);return f};k.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.bg&&1<b.bg?b.bg--:(this.Cd(),b===this.Jd&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.Jd=null),b===this.Kd&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.Kd=
null),Ba(t,b),"undefined"!==typeof b.ck&&delete g[b.ck],this.g.deleteTexture(b)))};k.prototype.wb=function(b){if(b!==this.Tg){var c=this.Xa();c.type=6;this.Tg=c.zb=b;this.Ha=!1}};gb=k})();
(function(){function k(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.fb=(this.pi=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Bc=!!a.dc;this.Np="undefined"!==typeof window.AppMobi||
this.Bc;this.eb=!!window.c2cocoonjs;this.qb=!!window.c2ejecta;this.eb&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.qb&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.oa=this.Bc||this.eb||this.qb;this.ug=
/edge\//i.test(navigator.userAgent);this.Id=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.ug;this.Mk=/tizen/i.test(navigator.userAgent);this.oi=/android/i.test(navigator.userAgent)&&!this.Mk&&!this.Id&&!this.ug;this.Qk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Id&&!this.ug;this.Vp=/ipad/i.test(navigator.userAgent);this.yg=this.Qk||this.Vp||this.qb;this.Pp=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Id&&!this.ug;this.Mp=/amazonwebappplatform/i.test(navigator.userAgent);this.Qp=/firefox/i.test(navigator.userAgent);this.si="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Ok=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Tp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.nf=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.yi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.xi=!!window.cr_windows10;this.wi=this.Ok||this.Tp||this.yi||this.xi;this.Op=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Lk=this.oi&&!this.Pp&&!this.pi&&!this.Qp&&!this.Mp&&!this.oa;this.devicePixelRatio=1;this.le=this.fb||this.pi||this.Np||this.eb||this.oi||this.yg||this.nf||this.yi||this.Op||this.Mk||this.qb;this.le||
(this.le=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Nk=!!(this.yg&&this.fb&&window.webkit);"undefined"===typeof cr_is_preview||this.si||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.si=!0);this.canvas=a;this.ek=document.getElementById("c2canvasdiv");this.m=this.g=null;this.ei="(unavailable)";this.M=!1;this.Bd=0;this.V=null;this.ng=!1;this.zl=this.Al=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Bc&&(window.c2runtime=this);this.si&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Lk&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.q=this.width;this.p=this.height;this.eg=this.width;this.Ve=this.height;this.re=window.innerWidth;this.qe=window.innerHeight;this.I=!0;this.mf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.U=[];this.Fi={};this.Kb=[];this.Qh={};this.yc=[];this.Ke=[];this.lh=[];this.En=[];this.Fn=[];this.yd={};this.ri=this.dd=!1;this.Dc=0;this.qi=this.vi=
!1;this.Zb=[];this.lf=!1;this.Cg=this.jj="";this.ja=null;this.Ec="";this.Pf=this.nm=!1;this.mg=[];this.Ad=this.fe=0;this.sl=30;this.Jh=this.zf=0;this.Tf=1;this.rb=new Xa;this.ph=new Xa;this.Lg=this.pg=this.kg=this.Sf=this.Md=this.Vh=this.zg=0;this.Qe=null;this.lk=[];this.Ph=[];this.jg=-1;this.Ji=[[]];this.rj=this.Gg=0;this.Yi(null);this.Ze=this.wl=this.Bf=0;this.Qf=[];this.oj=this.Zi=-1;this.pf=!0;this.Eg=0;this.vg=!1;this.Lq=0;this.Pe=null;this.fd=this.Dk=!1;this.yl=new ba;this.Ni=new ba;this.Oi=
new ba;this.Wl=[];new Za([]);new Za([]);this.$d=[];this.ff={};this.Zc={};this.Vc={};this.Je={};this.$j={};this.Wk=this.Bg=this.da=this.ia=this.Vk=this.Ag=this.J=null;this.He=this.Ai=!1;this.Wh=[null,null];this.ie=0;this.Hc={};this.Nf=this.jd=null;this.om="";this.Kg=[];this.yq()}}function m(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(a,b,e,d){try{var l=
indexedDB.open("_C2SaveStates");l.onupgradeneeded=p;l.onerror=d;l.onsuccess=function(l){l=l.target.result;l.onerror=d;l.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=e}}catch(h){d(h)}}function t(a,b,e){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=p;d.onerror=e;d.onsuccess=function(d){d=d.target.result;d.onerror=e;var l=d.transaction(["saves"]).objectStore("saves").get(a);l.onsuccess=function(){l.result?b(l.result.data):b(null)}}}catch(l){e(l)}}
function g(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,e={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].os||"spriteCreatedDestroyCallback"!==b&&(e[b]=a[b]);return e}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;k.prototype.yq=function(){var a=this;if(this.Nk)this.cp(function(b){a.sf(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.nf?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var e="data.js";if(this.Ok||this.nf||this.yi||this.xi)e="data.json";b.open("GET",e,!0);var d=!1;if(!this.oa&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(l){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(h){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.nf?b.onreadystatechange=function(){4===b.readyState&&a.sf(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.sf(b.response);else if(a.qb){var e=b.responseText,e=e.substr(e.indexOf("{"));a.sf(JSON.parse(e))}else a.sf(JSON.parse(b.responseText))},b.onerror=function(a){ea("Error requesting "+e+":");ea(a)});b.send()}};k.prototype.Kp=function(){var a=this,b,e,d,l,h,f,c,r,g;this.me=(!this.oa||this.qb||this.fb)&&this.Wq&&!this.Lk;
0===this.Na&&this.yg&&(this.me=!1);this.devicePixelRatio=this.me?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Da();0<this.Na&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.dq();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.m.Hk();a.m.Td(a.m.width,a.m.height,
!0);a.ia=null;a.da=null;a.Wh[0]=null;a.Wh[1]=null;a.fq();a.I=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.uo&&(this.eb||this.qb||!this.oa)&&(b={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.oi||(this.g=this.canvas.getContext("webgl2",b)),this.g||(this.g=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b)))}catch(q){}if(this.g){if(b=this.g.getExtension("WEBGL_debug_renderer_info"))this.ei=
this.g.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.g.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.M&&(this.ei+=" [front-to-back enabled]");this.oa||(this.za=document.createElement("canvas"),jQuery(this.za).appendTo(this.canvas.parentNode),this.za.oncontextmenu=function(){return!1},this.za.onselectstart=function(){return!1},this.za.width=Math.round(this.eg*this.devicePixelRatio),this.za.height=Math.round(this.Ve*this.devicePixelRatio),jQuery(this.za).css({width:this.eg+"px",height:this.Ve+
"px"}),this.Pl(),this.Si=this.za.getContext("2d"));this.m=new gb(this.g,this.le,this.M);this.m.Td(this.canvas.width,this.canvas.height);this.m.nk=0!==this.no;this.V=null;b=0;for(e=this.i.length;b<e;b++)for(h=this.i[b],d=0,l=h.r.length;d<l;d++)c=h.r[d],c.ga=this.m.di(c.id),c.Mb=this.m.Vi(c.ga),this.He=this.He||this.m.Gf(c.ga);b=0;for(e=this.Kb.length;b<e;b++){r=this.Kb[b];d=0;for(l=r.r.length;d<l;d++)c=r.r[d],c.ga=this.m.di(c.id),c.Mb=this.m.Vi(c.ga);r.Qb();d=0;for(l=r.u.length;d<l;d++){g=r.u[d];h=
0;for(f=g.r.length;h<f;h++)c=g.r[h],c.ga=this.m.di(c.id),c.Mb=this.m.Vi(c.ga),this.He=this.He||this.m.Gf(c.ga);g.Qb()}}}else{if(0<this.Na&&this.Bc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.V=AppMobi.canvas.getContext("2d");try{this.V.samplingMode=this.ea?"smooth":"sharp",this.V.globalScale=1,this.V.HTML5CompatibilityMode=!0,this.V.imageSmoothingEnabled=this.ea}catch(k){}0!==this.width&&0!==this.height&&(this.V.width=this.width,this.V.height=
this.height)}this.V||(this.eb?(b={antialias:!!this.ea,alpha:!0},this.V=this.canvas.getContext("2d",b)):(b={alpha:!0},this.V=this.canvas.getContext("2d",b)),this.Wg(this.V,this.ea));this.Si=this.za=null}this.vm=function(b){a.Fe(!1,b)};window==window.top||this.oa||this.wi||this.nf||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.eb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
-1<window.location.search.indexOf("continuous")&&(y("Reloading for continuous preview"),this.Cg="__c2_continuouspreview",this.Pf=!0),this.nq&&!this.le&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.oa||(b=function(a){if(fb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},
"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Na&&this.me&&1<this.devicePixelRatio&&this.setSize(this.ma,this.la,!0);this.Am();this.Ep();this.go();this.S={}};k.prototype.setSize=function(a,b,e){var d=0,l=0,h=0,f=0,f=0;if(this.re!==a||this.qe!==b||e){this.re=a;this.qe=b;var c=this.Na;if((h=(document.mozFullScreen||
document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.vg)&&!this.fb)||0!==this.Na||e)h&&(c=this.ie),e=this.devicePixelRatio,4<=c?(h=this.ma/this.la,a/b>h?(h*=b,5===c?(f=h*e/this.ma,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),h=this.ma*f/e,f=this.la*f/e,d=(a-h)/2,l=(b-f)/2,a=h,b=f):(d=(a-h)/2,a=h)):(f=a/h,5===c?(f=f*e/this.la,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),h=this.ma*f/e,f=this.la*f/e,d=(a-h)/2,l=(b-f)/2,a=h):l=(b-f)/2,b=f)):h&&0===c&&(d=Math.floor((a-
this.ma)/2),l=Math.floor((b-this.la)/2),a=this.ma,b=this.la),2>c&&(this.Oe=e),this.eg=Math.round(a),this.Ve=Math.round(b),this.width=Math.round(a*e),this.height=Math.round(b*e),this.I=!0,this.Km?(this.q=this.width,this.p=this.height,this.bb=!0):this.width<this.ma&&this.height<this.la||1===c?(this.q=this.width,this.p=this.height,this.bb=!0):(this.q=this.ma,this.p=this.la,this.bb=!1,2===c?(h=this.ma/this.la,c=this.re/this.qe,c<h?this.q=this.p*c:c>h&&(this.p=this.q/c)):3===c&&(h=this.ma/this.la,c=this.re/
this.qe,c>h?this.q=this.p*c:c<h&&(this.p=this.q/c))),this.ek&&!this.oa&&(jQuery(this.ek).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(l)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),this.canvas.height=Math.round(b*e),this.qb?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(l)+"px",
this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.me&&!this.oa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.za&&(this.za.width=Math.round(a*e),this.za.height=Math.round(b*e),this.za.style.width=this.eg+"px",this.za.style.height=this.Ve+"px"),this.m&&this.m.Td(Math.round(a*e),Math.round(b*e)),this.Bc&&this.V&&(this.V.width=Math.round(a),this.V.height=Math.round(b)),this.V&&this.Wg(this.V,this.ea),this.Am(),
this.Qk&&!this.fb&&window.scrollTo(0,0)}};k.prototype.Am=function(){if(this.Hn&&0!==this.Ri){var a="portrait";2===this.Ri&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",
b)}}};k.prototype.dq=function(){this.m.On();this.Ai=!0;var a,b,e;a=0;for(b=this.i.length;a<b;a++)e=this.i[a],e.Cl&&e.Cl()};k.prototype.fq=function(){this.Ai=!1;var a,b,e;a=0;for(b=this.i.length;a<b;a++)e=this.i[a],e.Fl&&e.Fl()};k.prototype.Pl=function(){if(!this.oa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.vg)&&!this.fb?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.za).css(a)}};
var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;k.prototype.setSuspended=function(a){var b;if(a&&!this.mf)for(y("[Construct 2] Suspending"),this.mf=!0,-1!==this.Zi&&h&&h(this.Zi),-1!==this.oj&&clearTimeout(this.oj),a=0,b=this.Qf.length;a<b;a++)this.Qf[a](!0);else if(!a&&this.mf){y("[Construct 2] Resuming");this.mf=!1;this.zg=R();this.Md=R();a=this.zf=this.pg=0;for(b=this.Qf.length;a<b;a++)this.Qf[a](!1);
this.Fe(!1)}};k.prototype.Dn=function(a){this.Qf.push(a)};k.prototype.Tc=function(a){return this.Kg[a]};k.prototype.sf=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.tk=a[1];this.Na=a[12];this.ma=a[10];this.la=a[11];this.Jl=this.ma/2;this.Kl=this.la/2;this.oa&&!this.qb&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Na=3);this.xj=a[18];this.kd=a[19];if(0===
this.kd){var b=new Image;b.crossOrigin="anonymous";this.gm(b,"loading-logo.png");this.jd={Hg:b}}else if(4===this.kd){b=new Image;b.src="";var e=new Image;e.src="";var d=new Image;d.src="";var l=new Image;l.src="";var h=new Image;h.src="";var f=new Image;f.src="";var c=new Image;c.src="";var r=new Image;r.src="";var g=new Image;g.src="";var q=new Image;q.src="";var k=new Image;k.src="";var w=new Image;w.src="";this.jd={Hg:[b,e,d,l],rq:[h,f,c,r],$q:[g,q,k,w]}}this.Bf=a[21];this.Kg=ac();this.mc=new W(this);
b=0;for(e=a[2].length;b<e;b++)c=a[2][b],d=this.Tc(c[0]),hb(c,d.prototype),r=new d(this),r.ah=c[1],r.gd=c[2],r.vs=c[5],r.tl=c[9],r.ka&&r.ka(),this.plugins.push(r);this.Kg=ac();b=0;for(e=a[3].length;b<e;b++){c=a[3][b];h=this.Tc(c[1]);r=null;d=0;for(l=this.plugins.length;d<l;d++)if(this.plugins[d]instanceof h){r=this.plugins[d];break}g=new r.Bb(r);g.name=c[0];g.G=c[2];g.mi=c[3].slice(0);g.Yq=c[3].length;g.In=c[4];g.fp=c[5];g.D=c[11];g.G?(g.rl=[],g.zc=this.Ze++,g.T=null):(g.rl=null,g.zc=-1,g.T=[]);g.lg=
null;g.ge=null;g.ok=null;g.gb=!1;g.Ua=null;c[6]?(g.tm=c[6][0],g.um=c[6][1],g.Oq=c[6][2]):(g.tm=null,g.um=0,g.Oq=0);c[7]?g.Sa=c[7]:g.Sa=null;g.index=b;g.c=[];g.hg=[];g.Nc=[new ib(g)];g.$b=0;g.ac=null;g.Tn=0;g.De=!0;g.mh=jb;g.jp=kb;g.op=lb;g.N=mb;g.Hf=nb;g.Xi=ob;g.xe=pb;g.qg=qb;g.Xh=rb;g.Zh=sb;g.Wc=tb;g.ai=ub;g.gk=new $a(this.ma,this.la);g.Rj=!0;g.Sj=!1;g.S={};g.toString=vb;g.U=[];d=0;for(l=c[8].length;d<l;d++){q=c[8][d];k=this.Tc(q[1]);w=null;h=0;for(f=this.U.length;h<f;h++)if(this.U[h]instanceof k){w=
this.U[h];break}w||(w=new k(this),w.ul=[],w.Mi=new ba,w.ka&&w.ka(),this.U.push(w));-1===w.ul.indexOf(g)&&w.ul.push(g);h=new w.Bb(w,g);h.name=q[0];h.D=q[2];h.ka();g.U.push(h)}g.global=c[9];g.ti=c[10];g.r=[];d=0;for(l=c[12].length;d<l;d++)g.r.push({id:c[12][d][0],name:c[12][d][1],ga:-1,Mb:!1,$a:!0,index:d});g.Ks=c[13];this.xj&&!g.G&&!g.ti&&r.gd||g.ka();g.name&&(this.types[g.name]=g);this.i.push(g);r.ah&&(d=new r.Ra(g),d.uid=this.Bf++,d.Tl=this.wl++,d.Gd=0,d.df=wb,d.toString=xb,d.Kc=c[14],d.ka(),g.c.push(d),
this.Hc[d.uid.toString()]=d)}b=0;for(e=a[4].length;b<e;b++)for(h=a[4][b],f=this.i[h[0]],d=1,l=h.length;d<l;d++)c=this.i[h[d]],c.T.push(f),f.rl.push(c);b=0;for(e=a[28].length;b<e;b++){h=a[28][b];f=[];d=0;for(l=h.length;d<l;d++)f.push(this.i[h[d]]);d=0;for(l=f.length;d<l;d++)f[d].gb=!0,f[d].Ua=f}if(0<this.Ze)for(b=0,e=this.i.length;b<e;b++)if(c=this.i[b],!c.G&&c.T.length){c.lg=Array(this.Ze);c.ge=Array(this.Ze);c.ok=Array(this.Ze);g=[];d=w=k=q=0;for(l=c.T.length;d<l;d++)for(r=c.T[d],c.lg[r.zc]=q,q+=
r.Yq,c.ge[r.zc]=k,k+=r.In,c.ok[r.zc]=w,w+=r.fp,h=0,f=r.r.length;h<f;h++)g.push(va({},r.r[h]));c.r=g.concat(c.r);d=0;for(l=c.r.length;d<l;d++)c.r[d].index=d}b=0;for(e=a[5].length;b<e;b++)c=a[5][b],d=new yb(this,c),this.Fi[d.name]=d,this.Kb.push(d);b=0;for(e=a[6].length;b<e;b++)c=a[6][b],d=new zb(this,c),this.Qh[d.name]=d,this.yc.push(d);b=0;for(e=this.yc.length;b<e;b++)this.yc[b].ba();b=0;for(e=this.yc.length;b<e;b++)this.yc[b].uj();b=0;for(e=this.lh.length;b<e;b++)this.lh[b].ba();P(this.lh);this.Gn=
a[7];this.Rd=a[9];this.Oe=1;this.uo=a[13];this.ea=a[14];this.fk=a[15];this.Wq=a[17];this.Ri=a[20];this.Hn=0<this.Ri;this.nq=a[22];this.bb=this.Km=a[23];this.no=a[24];this.sq=a[25];this.M=a[27]&&!this.Id;this.bh=Date.now();P(this.Kg);this.Kp()};var a=!1,e=0,f=[];k.prototype.xq=function(a,b){function d(){e--;l.pl()}var l=this;a.addEventListener("load",d);a.addEventListener("error",d);f.push([a,b]);this.pl()};k.prototype.pl=function(){for(var a;f.length&&100>e;)e++,a=f.shift(),this.gm(a[0],a[1])};k.prototype.Zq=
function(b,e){b.cocoonLazyLoad=!0;b.onerror=function(e){a=b.bk=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",e)};this.qb?b.src=e:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(a){b.src=a},function(d){a=b.bk=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",d)}):(b.crossOrigin="anonymous",this.xq(b,e)));this.Ke.push(b)};k.prototype.ep=function(a){var b,e;b=0;for(e=this.Ke.length;b<e;b++)if(this.Ke[b].Qn===
a)return this.Ke[b];return null};var d=0,w=!1;k.prototype.Ep=function(){this.Pe&&(d=this.Pe.Gs(this.Gn))};k.prototype.Tj=function(){var a=d,b=0,e=0,l=!0,h,c,e=0;for(h=this.Ke.length;e<h;e++){c=this.Ke[e];var f=c.Pn;if(!f||0>=f)f=5E4;a+=f;c.src&&(c.complete||c.loaded)&&!c.bk?b+=f:l=!1}l&&this.sq&&this.Pe&&(w||(this.Pe.Hs(),w=!0),e=this.Pe.ts(),b+=e,e<d&&(l=!1));this.Nb=0==a?1:b/a;return l};var x=!1;k.prototype.go=function(){if(this.V||this.m){var b=this.V||this.Si;this.za&&this.Pl();var e=window.innerWidth,
d=window.innerHeight;this.re===e&&this.qe===d||this.setSize(e,d);this.Nb=0;this.Uk=-1;var l=this;if(this.Tj()&&(4!==this.kd||x))this.Fp();else{d=Date.now()-this.bh;if(b){var h=this.width,f=this.height,e=this.devicePixelRatio;if(3>this.kd&&(this.eb||500<=d&&this.Uk!=this.Nb)){b.clearRect(0,0,h,f);var d=h/2,f=f/2,h=0===this.kd&&this.jd.Hg.complete,g=40*e,r=0,q=80*e,k;if(h){var w=this.jd.Hg,q=w.width*e;k=w.height*e;g=q/2;r=k/2;b.drawImage(w,K(d-g),K(f-r),q,k)}1>=this.kd?(d=K(d-g)+.5,f=K(f+(r+(h?12*e:
0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(d,f,Math.floor(q*this.Nb),6*e),b.strokeStyle="black",b.strokeRect(d,f,q,6*e),b.strokeStyle="white",b.strokeRect(d-1*e,f-1*e,q+2*e,8*e)):2===this.kd&&(b.font=this.qb?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.Js="middle",e=Math.round(100*this.Nb)+"%",h=b.measureText?b.measureText(e):null,b.fillText(e,d-(h?h.width:0)/2,f));this.Uk=this.Nb}else if(4===this.kd){this.so(b);c?c(function(){l.go()}):setTimeout(function(){l.go()},16);return}}setTimeout(function(){l.go()},
this.eb?10:100)}}};var q=-1,l="undefined"===typeof cr_is_preview?200:0,r=!0,N=!1,ha=0,L=0,Fa="undefined"===typeof cr_is_preview?3E3:0,z=null,fa=null,ia=0;k.prototype.so=function(b){if(!x){for(var e=Math.ceil(this.width),d=Math.ceil(this.height),h=this.jd.Hg,f=this.jd.rq,c=this.jd.$q,g=0;4>g;++g)if(!h[g].complete||!f[g].complete||!c[g].complete)return;0===ia&&(q=Date.now());var g=Date.now(),k=!1,w=b,n,p;r||N?(b.clearRect(0,0,e,d),z&&z.width===e&&z.height===d||(z=document.createElement("canvas"),z.width=
e,z.height=d,fa=z.getContext("2d")),w=fa,k=!0,r&&1===ia&&(q=Date.now())):b.globalAlpha=1;w.fillStyle="#333333";w.fillRect(0,0,e,d);256<this.Ve?(n=Ca(.22*d,105,.6*e),p=.25*n,w.drawImage(m(f,n),.5*e-n/2,.2*d-p/2,n,p),p=n=Math.min(.395*d,.95*e),w.drawImage(m(h,n),.5*e-n/2,.485*d-p/2,n,p),n=Ca(.22*d,105,.6*e),p=.25*n,w.drawImage(m(c,n),.5*e-n/2,.868*d-p/2,n,p),w.fillStyle="#3C3C3C",n=e,p=Math.max(.005*d,2),w.fillRect(0,.8*d-p/2,n,p),w.fillStyle=a?"red":"#E0FF65",n=e*this.Nb,w.fillRect(.5*e-n/2,.8*d-p/
2,n,p)):(p=n=.55*d,w.drawImage(m(h,n),.5*e-n/2,.45*d-p/2,n,p),w.fillStyle="#3C3C3C",n=e,p=Math.max(.005*d,2),w.fillRect(0,.85*d-p/2,n,p),w.fillStyle=a?"red":"#E0FF65",n=e*this.Nb,w.fillRect(.5*e-n/2,.85*d-p/2,n,p));k&&(r?b.globalAlpha=0===ia?0:Math.min((g-q)/300,1):N&&(b.globalAlpha=Math.max(1-(g-L)/300,0)),b.drawImage(z,0,0,e,d));r&&300<=g-q&&2<=ia&&(r=!1,ha=g);!r&&g-ha>=Fa&&!N&&1<=this.Nb&&(N=!0,L=g);if(N&&g-L>=300+l||"undefined"!==typeof cr_is_preview&&1<=this.Nb&&500>Date.now()-q)x=!0,N=r=!1,
this.jd=fa=z=null;++ia}};k.prototype.Fp=function(){this.za&&(this.canvas.parentNode.removeChild(this.za),this.za=this.Si=null);this.bh=Date.now();this.Md=R();var a,b,e;if(this.xj)for(a=0,b=this.i.length;a<b;a++)e=this.i[a],e.G||e.ti||!e.fa.gd||e.ka();else this.pf=!1;a=0;for(b=this.Kb.length;a<b;a++)this.Kb[a].Rn();2<=this.Na&&(a=this.ma/this.la,b=this.width/this.height,this.Oe=2!==this.Na&&b>a||2===this.Na&&b<a?this.height/this.la:this.width/this.ma);this.tk?this.Fi[this.tk].lj():this.Kb[0].lj();
this.xj||(this.Eg=1,this.trigger(W.prototype.d.Dj,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.i.length;a<b;a++)e=this.i[a],e.Bl&&e.Bl();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Fe(!1);this.Bc&&AppMobi.webview.execute("onGameReady();")};k.prototype.Fe=function(a,b,e){if(this.J){var d=R();if(e||!this.mf||a){a||(c?this.Zi=c(this.vm):
this.oj=setTimeout(this.vm,this.le?1:16));b=b||d;var l=this.Na;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.fb)||this.vg)&&0<this.ie&&(l=this.ie);if(0<l){var l=window.innerWidth,h=window.innerHeight;this.re===l&&this.qe===h||this.setSize(l,h)}this.oa||(e?this.ng||(this.ng=!0):this.ng?(this.ng=!1,0===this.Na&&this.setSize(Math.round(this.Al/this.devicePixelRatio),Math.round(this.zl/this.devicePixelRatio),!0)):(this.Al=this.width,
this.zl=this.height));this.pf&&(e=this.Tj(),this.Eg=this.Nb,e&&(this.pf=!1,this.Nb=1,this.trigger(W.prototype.d.Dj,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Zp(b);!this.I&&!this.eb||this.Ai||this.Pf||a||(this.I=!1,this.m?this.Hb():this.zd(),this.Nf&&(this.canvas&&this.canvas.toDataURL&&(this.om=this.canvas.toDataURL(this.Nf[0],this.Nf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.om),this.trigger(W.prototype.d.$m,null)),this.Nf=null));this.us||(this.Sf++,this.kg++,this.pg++);
this.zf+=R()-d}}};k.prototype.Zp=function(a){var b,e,d,l,h,f,c,g;1E3<=a-this.Md&&(this.Md+=1E3,1E3<=a-this.Md&&(this.Md=a),this.Vh=this.pg,this.pg=0,this.Jh=this.zf,this.zf=0);b=0;0!==this.zg&&(b=a-this.zg,0>b&&(b=0),this.Ad=b/=1E3,.5<this.Ad?this.Ad=0:this.Ad>1/this.sl&&(this.Ad=1/this.sl));this.zg=a;this.fe=this.Ad*this.Tf;this.rb.add(this.fe);this.ph.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.vg)&&!this.fb;2<=this.Na||
a&&0<this.ie?(b=this.ma/this.la,e=this.width/this.height,d=this.Na,a&&0<this.ie&&(d=this.ie),this.Oe=2!==d&&e>b||2===d&&e<b?this.height/this.la:this.width/this.ma,this.J&&(this.J.$l(this.J.scrollX),this.J.am(this.J.scrollY))):this.Oe=this.me?this.devicePixelRatio:1;this.Da();this.Dc++;this.mc.Bq();this.Dc--;this.Da();this.Dc++;e=this.yl.qd();a=0;for(b=e.length;a<b;a++)e[a].Cs();a=0;for(b=this.i.length;a<b;a++)if(f=this.i[a],!f.G&&(f.U.length||f.T.length))for(e=0,d=f.c.length;e<d;e++)for(c=f.c[e],
l=0,h=c.A.length;l<h;l++)c.A[l].Fe();a=0;for(b=this.i.length;a<b;a++)if(f=this.i[a],!f.G&&(f.U.length||f.T.length))for(e=0,d=f.c.length;e<d;e++)for(c=f.c[e],l=0,h=c.A.length;l<h;l++)g=c.A[l],g.qq&&g.qq();e=this.Ni.qd();a=0;for(b=e.length;a<b;a++)e[a].Fe();this.Dc--;this.Gp();for(a=0;this.Qe&&10>a++;)this.mk(this.Qe);a=0;for(b=this.yc.length;a<b;a++)this.yc[a].hi=!1;this.J.Dd&&this.J.Dd.na();P(this.Wl);this.Dc++;a=0;for(b=this.i.length;a<b;a++)if(f=this.i[a],!f.G&&(f.U.length||f.T.length))for(e=0,
d=f.c.length;e<d;e++)for(c=f.c[e],l=0,h=c.A.length;l<h;l++)g=c.A[l],g.nj&&g.nj();e=this.Oi.qd();a=0;for(b=e.length;a<b;a++)e[a].nj();this.Dc--};k.prototype.mk=function(a){var b=this.J;this.J.Mq();var e,d,l;if(this.m)for(e=0,d=this.i.length;e<d;e++)l=this.i[e],l.G||!l.Dm||l.global&&0!==l.c.length||-1!==a.jf.indexOf(l)||l.Dm();b==a&&P(this.mc.Za);P(this.Wl);this.Xl(!0);a.lj();this.Xl(!1);this.I=!0;this.Da()};k.prototype.Xl=function(a){var b,e,d,l,h,f,c,g,r;b=0;for(e=this.U.length;b<e;b++)d=this.U[b],
a?d.Cf&&d.Cf():d.Df&&d.Df();b=0;for(e=this.i.length;b<e;b++)if(d=this.i[b],d.global||d.fa.ah)for(l=0,h=d.c.length;l<h;l++)if(f=d.c[l],a?f.Cf&&f.Cf():f.Df&&f.Df(),f.A)for(c=0,g=f.A.length;c<g;c++)r=f.A[c],a?r.Cf&&r.Cf():r.Df&&r.Df()};k.prototype.Qq=function(a){this.Ni.add(a)};k.prototype.Pq=function(a){this.Oi.add(a)};k.prototype.xk=function(a){return a&&-1!==a.Af?this.Ad*a.Af:this.fe};k.prototype.zd=function(){this.J.zd(this.V);this.Bc&&this.V.present()};k.prototype.Hb=function(){this.M&&(this.Bd=
1,this.J.ee(this.m));this.J.Hb(this.m);this.m.uq()};k.prototype.Bk=function(a){a=a.toString();return this.Hc.hasOwnProperty(a)?this.Hc[a]:null};var E=[];k.prototype.Wd=function(a){var b,e;b=a.type.name;var d=null;if(this.yd.hasOwnProperty(b)){if(d=this.yd[b],d.contains(a))return}else d=E.length?E.pop():new ba,this.yd[b]=d;d.add(a);this.dd=!0;if(a.gb)for(b=0,e=a.siblings.length;b<e;b++)this.Wd(a.siblings[b]);this.ri&&d.Ie.push(a);this.qi||(this.Dc++,this.trigger(Object.getPrototypeOf(a.type.fa).d.an,
a),this.Dc--)};k.prototype.Da=function(){if(this.dd){var a,b,e,d,l,h;this.ri=!0;e=0;for(l=this.Zb.length;e<l;++e)for(a=this.Zb[e],b=a.type,b.c.push(a),d=0,h=b.T.length;d<h;++d)b.T[d].c.push(a),b.T[d].De=!0;P(this.Zb);this.Wm();Ta(this.yd);this.dd=this.ri=!1}};k.prototype.Wm=function(){for(var a in this.yd)this.yd.hasOwnProperty(a)&&this.Om(this.yd[a])};k.prototype.Om=function(a){var b=a.qd(),e=b[0].type,d,l,h,f,c,g;Ua(e.c,a);e.De=!0;0===e.c.length&&(e.Sj=!1);d=0;for(l=e.T.length;d<l;++d)g=e.T[d],
Ua(g.c,a),g.De=!0;d=0;for(l=this.mc.Za.length;d<l;++d)if(c=this.mc.Za[d],c.Ya.hasOwnProperty(e.index)&&Ua(c.Ya[e.index].Hd,a),!e.G)for(h=0,f=e.T.length;h<f;++h)g=e.T[h],c.Ya.hasOwnProperty(g.index)&&Ua(c.Ya[g.index].Hd,a);if(c=b[0].e){if(c.ib)for(h=c.c,d=0,l=h.length;d<l;++d)f=h[d],a.contains(f)&&(f.Ca(),c.Aa.update(f,f.Pa,null),f.Pa.set(0,0,-1,-1));Ua(c.c,a);c.Kf(0)}for(d=0;d<b.length;++d)this.Nm(b[d],e);a.clear();E.push(a);this.I=!0};k.prototype.Nm=function(a,b){var e,d,l;e=0;for(d=this.lk.length;e<
d;++e)this.lk[e](a);a.$c&&b.gk.update(a,a.$c,null);(e=a.e)&&e.ze(a,!0);if(a.A)for(e=0,d=a.A.length;e<d;++e)l=a.A[e],l.Pi&&l.Pi(),l.behavior.Mi.remove(a);this.yl.remove(a);this.Ni.remove(a);this.Oi.remove(a);a.Pi&&a.Pi();this.Hc.hasOwnProperty(a.uid.toString())&&delete this.Hc[a.uid.toString()];this.Lg--;100>b.hg.length&&b.hg.push(a)};var T=[];k.prototype.xd=function(a,b,e,d,l,h){var f,c,g,r;if(!a)return null;var q=this.i[a[1]],k=q.fa.gd;if(this.pf&&k&&!q.ti||k&&!this.m&&11===a[0][11])return null;
var w=b;k||(b=null);var m;q.hg.length?(m=q.hg.pop(),m.hc=!0,q.fa.Ra.call(m,q)):(m=new q.fa.Ra(q),m.hc=!1);!e||h||this.Hc.hasOwnProperty(a[2].toString())?m.uid=this.Bf++:m.uid=a[2];this.Hc[m.uid.toString()]=m;m.Tl=this.wl++;m.Gd=q.c.length;f=0;for(c=this.Zb.length;f<c;++f)this.Zb[f].type===q&&m.Gd++;m.df=wb;m.toString=xb;g=a[3];if(m.hc)Ta(m.S);else{m.S={};if("undefined"!==typeof cr_is_preview)for(m.Kk=[],m.Kk.length=g.length,f=0,c=g.length;f<c;f++)m.Kk[f]=g[f][1];m.ha=[];m.ha.length=g.length}f=0;for(c=
g.length;f<c;f++)m.ha[f]=g[f][0];if(k){var x=a[0];m.x=ga(d)?x[0]:d;m.y=ga(l)?x[1]:l;m.z=x[2];m.width=x[3];m.height=x[4];m.depth=x[5];m.j=x[6];m.opacity=x[7];m.Va=x[8];m.Wa=x[9];m.va=x[10];f=x[11];!this.m&&q.r.length&&(m.va=f);m.ae=bb(m.va);this.g&&cb(m,m.va,this.g);if(m.hc){f=0;for(c=x[12].length;f<c;f++)for(g=0,r=x[12][f].length;g<r;g++)m.W[f][g]=x[12][f][g];m.Ea.set(0,0,0,0);m.$c.set(0,0,-1,-1);m.Pa.set(0,0,-1,-1);m.ag.$g(m.Ea);P(m.xh)}else{m.W=x[12].slice(0);f=0;for(c=m.W.length;f<c;f++)m.W[f]=
x[12][f].slice(0);m.H=[];m.Uc=[];m.Uc.length=q.r.length;m.Ea=new O(0,0,0,0);m.$c=new O(0,0,-1,-1);m.Pa=new O(0,0,-1,-1);m.ag=new ua;m.xh=[];m.ta=Ab;m.ns=Bb;m.kb=Cb;m.Ca=Db;m.Vq=Eb;m.Ls=Fb;m.ec=Gb}m.wm=!1;m.Tq=0;m.Sq=0;m.Rq=null;14===x.length&&(m.wm=!0,m.Tq=x[13][0],m.Sq=x[13][1],m.Rq=x[13][2]);f=0;for(c=q.r.length;f<c;f++)m.Uc[f]=!0;m.Lc=!0;m.Qb=Hb;m.Qb();m.Hm=!!m.H.length;m.wh=!0;m.Ch=!0;q.Rj=!0;m.visible=!0;m.Af=-1;m.e=b;m.Sb=b.c.length;m.Bd=0;"undefined"===typeof m.Yb&&(m.Yb=null);this.I=m.Re=
!0}var N;P(T);f=0;for(c=q.T.length;f<c;f++)T.push.apply(T,q.T[f].U);T.push.apply(T,q.U);if(m.hc)for(f=0,c=T.length;f<c;f++){var n=T[f];N=m.A[f];N.hc=!0;n.behavior.Ra.call(N,n,m);x=a[4][f];g=0;for(r=x.length;g<r;g++)N.Kc[g]=x[g];N.ka();n.behavior.Mi.add(m)}else for(m.A=[],f=0,c=T.length;f<c;f++)n=T[f],N=new n.behavior.Ra(n,m),N.hc=!1,N.Kc=a[4][f].slice(0),N.ka(),m.A.push(N),n.behavior.Mi.add(m);x=a[5];if(m.hc)for(f=0,c=x.length;f<c;f++)m.Kc[f]=x[f];else m.Kc=x.slice(0);this.Zb.push(m);this.dd=!0;b&&
(b.Ne(m,!0),1!==b.Ic||1!==b.Jc)&&(q.Sj=!0);this.Lg++;if(q.gb){if(m.gb=!0,m.hc?P(m.siblings):m.siblings=[],!e&&!h){f=0;for(c=q.Ua.length;f<c;f++)if(q.Ua[f]!==q){if(!q.Ua[f].ac)return null;m.siblings.push(this.xd(q.Ua[f].ac,w,!1,k?m.x:d,k?m.y:l,!0))}f=0;for(c=m.siblings.length;f<c;f++)for(m.siblings[f].siblings.push(m),g=0;g<c;g++)f!==g&&m.siblings[f].siblings.push(m.siblings[g])}}else m.gb=!1,m.siblings=null;m.ka();f=0;for(c=m.A.length;f<c;f++)m.A[f].pq&&m.A[f].pq();return m};k.prototype.bi=function(a){var b,
e;b=0;for(e=this.J.u.length;b<e;b++){var d=this.J.u[b];if(eb(d.name,a))return d}return null};k.prototype.bf=function(a){a=K(a);0>a&&(a=0);a>=this.J.u.length&&(a=this.J.u.length-1);return this.J.u[a]};k.prototype.Hh=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].N().Y=!0};k.prototype.Hf=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].Hf()};k.prototype.Xi=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].Xi()};k.prototype.xe=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].xe()};k.prototype.gh=
function(a,b,e){var d=a.N(),l,f,h,c,g=this.Oa().mb.Lb,r,q,k;if(d.Y)for(d.Y=!1,P(d.c),l=0,c=a.c.length;l<c;l++)h=a.c[l],h.Ca(),r=h.e.Ja(b,e,!0),q=h.e.Ja(b,e,!1),h.kb(r,q)?d.c.push(h):g&&d.F.push(h);else{f=0;k=g?d.F:d.c;l=0;for(c=k.length;l<c;l++)h=k[l],h.Ca(),r=h.e.Ja(b,e,!0),q=h.e.Ja(b,e,!1),h.kb(r,q)&&(g?d.c.push(h):(d.c[f]=d.c[l],f++));k.length=f}a.Wc();return d.gi()};new ua;new O(0,0,0,0);k.prototype.Bm=function(a,b){if(!b)return!1;var e,d,l,f,h;e=0;for(d=a.U.length;e<d;e++)if(a.U[e].behavior instanceof
b)return!0;if(!a.G)for(e=0,d=a.T.length;e<d;e++)for(h=a.T[e],l=0,f=h.U.length;l<f;l++)if(h.U[l].behavior instanceof b)return!0;return!1};k.prototype.sj=function(a){return this.Bm(a,Ub.Gr)};k.prototype.tj=function(a){return this.Bm(a,Ub.Hr)};var Y=-1;k.prototype.trigger=function(a,b,e){if(!this.J)return!1;var d=this.J.Dd;if(!d)return!1;var l=!1,f,h,c;Y++;var g=d.Nh;h=0;for(c=g.length;h<c;++h)f=this.ym(a,b,g[h],e),l=l||f;f=this.ym(a,b,d,e);Y--;return l||f};k.prototype.ym=function(a,b,e,d){var l=!1,
f,h,c,g;if(b)for(c=this.qj(a,b,b.type.name,e,d),l=l||c,g=b.type.T,f=0,h=g.length;f<h;++f)c=this.qj(a,b,g[f].name,e,d),l=l||c;else c=this.qj(a,b,"system",e,d),l=l||c;return l};k.prototype.qj=function(a,b,e,d,l){var f,h=!1,c=!1,c="undefined"!==typeof l,g=(c?d.qk:d.zm)[e];if(!g)return h;var r=null;d=0;for(f=g.length;d<f;++d)if(g[d].method==a){r=g[d].Ye;break}if(!r)return h;var q;c?q=r[l]:q=r;if(!q)return null;d=0;for(f=q.length;d<f;d++)a=q[d][0],l=q[d][1],c=this.$o(b,e,a,l),h=h||c;return h};k.prototype.$o=
function(a,b,e,d){var l,f,h=!1;this.rj++;var c=this.Oa().mb;c&&this.Hf(c.od);var g=1<this.rj;this.Hf(e.od);g&&this.wq();var r=this.Yi(e);r.mb=e;a&&(l=this.types[b].N(),l.Y=!1,P(l.c),l.c[0]=a,this.types[b].Wc());a=!0;if(e.parent){b=r.rm;for(l=e.parent;l;)b.push(l),l=l.parent;b.reverse();l=0;for(f=b.length;l<f;l++)if(!b[l].Dq()){a=!1;break}}a&&(this.kg++,e.Lb?e.Cq(d):e.na(),h=h||r.Ld);this.Ol();g&&this.oq();this.xe(e.od);c&&this.xe(c.od);this.dd&&0===this.Dc&&0===Y&&!this.vi&&this.Da();this.rj--;return h};
k.prototype.ip=function(){var a=this.Oa();return a.mb.Fa[a.Ta]};k.prototype.wq=function(){this.Gg++;this.Gg>=this.Ji.length&&this.Ji.push([])};k.prototype.oq=function(){this.Gg--};k.prototype.wk=function(){return this.Ji[this.Gg]};k.prototype.Yi=function(a){this.jg++;this.jg>=this.Ph.length&&this.Ph.push(new Ib);var b=this.Oa();b.reset(a);return b};k.prototype.Ol=function(){this.jg--};k.prototype.Oa=function(){return this.Ph[this.jg]};k.prototype.yk=function(a,b){for(var e,d,l,f,h,c;b;){e=0;for(d=
b.yb.length;e<d;e++)if(c=b.yb[e],c instanceof Jb&&eb(a,c.name))return c;b=b.parent}e=0;for(d=this.yc.length;e<d;e++)for(h=this.yc[e],l=0,f=h.bd.length;l<f;l++)if(c=h.bd[l],c instanceof Jb&&eb(a,c.name))return c;return null};k.prototype.zk=function(a){var b,e;b=0;for(e=this.Kb.length;b<e;b++)if(this.Kb[b].D===a)return this.Kb[b];return null};k.prototype.sg=function(a){var b,e;b=0;for(e=this.i.length;b<e;b++)if(this.i[b].D===a)return this.i[b];return null};k.prototype.kp=function(a){var b,e;b=0;for(e=
this.$d.length;b<e;b++)if(this.$d[b].D===a)return this.$d[b];return null};k.prototype.Un=function(a,b){this.Nf=[a,b];this.I=!0};k.prototype.Gp=function(){var a=this,b=this.jj,e=this.Ec,d=this.Cg,l=!1;this.nm&&(l=!0,b="__c2_continuouspreview",this.nm=!1);if(b.length){this.Da();e=this.Hq();if(n()&&!this.eb)u(b,e,function(){y("Saved state to IndexedDB storage ("+e.length+" bytes)");a.Ec=e;a.trigger(W.prototype.d.rh,null);a.Ec="";l&&g()},function(d){try{localStorage.setItem("__c2save_"+b,e),y("Saved state to WebStorage ("+
e.length+" bytes)"),a.Ec=e,a.trigger(W.prototype.d.rh,null),a.Ec="",l&&g()}catch(f){y("Failed to save game state: "+d+"; "+f),a.trigger(W.prototype.d.Hj,null)}});else try{localStorage.setItem("__c2save_"+b,e),y("Saved state to WebStorage ("+e.length+" bytes)"),a.Ec=e,this.trigger(W.prototype.d.rh,null),a.Ec="",l&&g()}catch(f){y("Error saving to WebStorage: "+f),a.trigger(W.prototype.d.Hj,null)}this.Cg=this.jj="";this.ja=null}if(d.length){if(n()&&!this.eb)t(d,function(b){b?(a.ja=b,y("Loaded state from IndexedDB storage ("+
a.ja.length+" bytes)")):(a.ja=localStorage.getItem("__c2save_"+d)||"",y("Loaded state from WebStorage ("+a.ja.length+" bytes)"));a.Pf=!1;a.ja||(a.ja=null,a.trigger(W.prototype.d.$f,null))},function(){a.ja=localStorage.getItem("__c2save_"+d)||"";y("Loaded state from WebStorage ("+a.ja.length+" bytes)");a.Pf=!1;a.ja||(a.ja=null,a.trigger(W.prototype.d.$f,null))});else{try{this.ja=localStorage.getItem("__c2save_"+d)||"",y("Loaded state from WebStorage ("+this.ja.length+" bytes)")}catch(h){this.ja=null}this.Pf=
!1;a.ja||(a.ja=null,a.trigger(W.prototype.d.$f,null))}this.jj=this.Cg=""}null!==this.ja&&(this.Da(),this.Xp(this.ja)?(this.Ec=this.ja,this.trigger(W.prototype.d.hn,null),this.Ec=""):a.trigger(W.prototype.d.$f,null),this.ja=null)};k.prototype.Hq=function(){var a,e,d,l,f,h,c,g={c2save:!0,version:1,rt:{time:this.rb.aa,walltime:this.ph.aa,timescale:this.Tf,tickcount:this.Sf,execcount:this.kg,next_uid:this.Bf,running_layout:this.J.D,start_time_offset:Date.now()-this.bh},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(e=this.i.length;a<e;a++)if(f=this.i[a],!f.G&&!this.sj(f)){h={instances:[]};Ra(f.S)&&(h.ex=b(f.S));d=0;for(l=f.c.length;d<l;d++)h.instances.push(this.ij(f.c[d]));g.types[f.D.toString()]=h}a=0;for(e=this.Kb.length;a<e;a++)d=this.Kb[a],g.layouts[d.D.toString()]=d.lc();l=g.events.groups;a=0;for(e=this.$d.length;a<e;a++)d=this.$d[a],l[d.D.toString()]=this.ff[d.ef].ke;e=g.events.cnds;for(c in this.Zc)this.Zc.hasOwnProperty(c)&&(a=this.Zc[c],Ra(a.S)&&(e[c]={ex:b(a.S)}));
e=g.events.acts;for(c in this.Vc)this.Vc.hasOwnProperty(c)&&(a=this.Vc[c],Ra(a.S)&&(e[c]={ex:b(a.S)}));e=g.events.vars;for(c in this.Je)this.Je.hasOwnProperty(c)&&(a=this.Je[c],a.wg||a.parent&&!a.of||(e[c]=a.data));g.system=this.mc.lc();return JSON.stringify(g)};k.prototype.Vl=function(){var a,b,e,d,l,f;this.Hc={};a=0;for(b=this.i.length;a<b;a++)if(e=this.i[a],!e.G)for(d=0,l=e.c.length;d<l;d++)f=e.c[d],this.Hc[f.uid.toString()]=f};k.prototype.Xp=function(a){var b;try{b=JSON.parse(a)}catch(e){return!1}if(!b.c2save||
1<b.version)return!1;this.lf=!0;a=b.rt;this.rb.reset();this.rb.aa=a.time;this.ph.reset();this.ph.aa=a.walltime||0;this.Tf=a.timescale;this.Sf=a.tickcount;this.kg=a.execcount;this.bh=Date.now()-a.start_time_offset;var d=a.running_layout;if(d!==this.J.D)if(d=this.zk(d))this.mk(d);else return;var l,f,h,c,g,r,q;r=b.types;for(f in r)if(r.hasOwnProperty(f)&&(c=this.sg(parseInt(f,10)))&&!c.G&&!this.sj(c)){r[f].ex?c.S=r[f].ex:Ta(c.S);g=c.c;h=r[f].instances;d=0;for(l=qa(g.length,h.length);d<l;d++)this.Dg(g[d],
h[d]);d=h.length;for(l=g.length;d<l;d++)this.Wd(g[d]);d=g.length;for(l=h.length;d<l;d++){g=null;if(c.fa.gd&&(g=this.J.rg(h[d].w.l),!g))continue;g=this.xd(c.ac,g,!1,0,0,!0);this.Dg(g,h[d])}c.De=!0}this.Da();this.Vl();l=b.layouts;for(f in l)l.hasOwnProperty(f)&&(d=this.zk(parseInt(f,10)))&&d.hd(l[f]);l=b.events.groups;for(f in l)l.hasOwnProperty(f)&&(d=this.kp(parseInt(f,10)))&&this.ff[d.ef]&&this.ff[d.ef].Iq(l[f]);d=b.events.cnds;for(f in this.Zc)this.Zc.hasOwnProperty(f)&&(d.hasOwnProperty(f)?this.Zc[f].S=
d[f].ex:this.Zc[f].S={});d=b.events.acts;for(f in this.Vc)this.Vc.hasOwnProperty(f)&&(d.hasOwnProperty(f)?this.Vc[f].S=d[f].ex:this.Vc[f].S={});d=b.events.vars;for(f in d)d.hasOwnProperty(f)&&this.Je.hasOwnProperty(f)&&(this.Je[f].data=d[f]);this.Bf=a.next_uid;this.lf=!1;d=0;for(l=this.mg.length;d<l;++d)g=this.mg[d],this.trigger(Object.getPrototypeOf(g.type.fa).d.Aj,g);P(this.mg);this.mc.hd(b.system);d=0;for(l=this.i.length;d<l;d++)if(c=this.i[d],!c.G&&!this.sj(c))for(b=0,f=c.c.length;b<f;b++){g=
c.c[b];if(c.gb)for(r=g.df(),P(g.siblings),a=0,h=c.Ua.length;a<h;a++)q=c.Ua[a],c!==q&&g.siblings.push(q.c[r]);g.rd&&g.rd();if(g.A)for(a=0,h=g.A.length;a<h;a++)r=g.A[a],r.rd&&r.rd()}return this.I=!0};k.prototype.ij=function(a,e){var d,l,f,h,c;h=a.type;f=h.fa;var g={};e?g.c2=!0:g.uid=a.uid;Ra(a.S)&&(g.ex=b(a.S));if(a.ha&&a.ha.length)for(g.ivs={},d=0,l=a.ha.length;d<l;d++)g.ivs[a.type.mi[d].toString()]=a.ha[d];if(f.gd){f={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.D,zi:a.ec()};0!==a.j&&(f.a=a.j);1!==a.opacity&&
(f.o=a.opacity);.5!==a.Va&&(f.hX=a.Va);.5!==a.Wa&&(f.hY=a.Wa);0!==a.va&&(f.bm=a.va);a.visible||(f.v=a.visible);a.Re||(f.ce=a.Re);-1!==a.Af&&(f.mts=a.Af);if(h.r.length)for(f.fx=[],d=0,l=h.r.length;d<l;d++)c=h.r[d],f.fx.push({name:c.name,active:a.Uc[c.index],params:a.W[c.index]});g.w=f}if(a.A&&a.A.length)for(g.behs={},d=0,l=a.A.length;d<l;d++)h=a.A[d],h.lc&&(g.behs[h.type.D.toString()]=h.lc());a.lc&&(g.data=a.lc());return g};k.prototype.mp=function(a,b){var e,d;e=0;for(d=a.mi.length;e<d;e++)if(a.mi[e]===
b)return e;return-1};k.prototype.hp=function(a,b){var e,d;e=0;for(d=a.A.length;e<d;e++)if(a.A[e].type.D===b)return e;return-1};k.prototype.Dg=function(a,b,e){var d,l,f,h,c;c=a.type;var g=c.fa;if(e){if(!b.c2)return}else a.uid=b.uid;b.ex?a.S=b.ex:Ta(a.S);if(l=b.ivs)for(d in l)l.hasOwnProperty(d)&&(f=this.mp(c,parseInt(d,10)),0>f||f>=a.ha.length||(h=l[d],null===h&&(h=NaN),a.ha[f]=h));if(g.gd){f=b.w;a.e.D!==f.l&&(l=a.e,a.e=this.J.rg(f.l),a.e?(l.ze(a,!0),a.e.Ne(a,!0),a.ta(),a.e.Kf(0)):(a.e=l,e||this.Wd(a)));
a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.Sb=f.zi;a.j=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.Va=f.hasOwnProperty("hX")?f.hX:.5;a.Wa=f.hasOwnProperty("hY")?f.hY:.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.Re=f.hasOwnProperty("ce")?f.ce:!0;a.Af=f.hasOwnProperty("mts")?f.mts:-1;a.va=f.hasOwnProperty("bm")?f.bm:0;a.ae=bb(a.va);this.g&&cb(a,a.va,this.g);a.ta();if(f.hasOwnProperty("fx"))for(e=0,l=f.fx.length;e<l;e++)h=c.Zh(f.fx[e].name),0>h||(a.Uc[h]=f.fx[e].active,a.W[h]=
f.fx[e].params);a.Qb()}if(c=b.behs)for(d in c)c.hasOwnProperty(d)&&(e=this.hp(a,parseInt(d,10)),0>e||a.A[e].hd(c[d]));b.data&&a.hd(b.data)};k.prototype.rk=function(a,b,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,e)},e)};k.prototype.cp=function(a,b){this.rk("data.js",function(e){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(e)},b)};var ca=[],I=0;k.prototype.Ki=function(){if(ca.length&&!(8<=I)){I++;var a=
ca.shift();this.Yn(a.filename,a.Nq,a.xo)}};k.prototype.bp=function(a,b,e){var d=this;ca.push({filename:a,Nq:function(a){I--;d.Ki();b(a)},xo:function(a){I--;d.Ki();e(a)}});this.Ki()};k.prototype.Yn=function(a,b,e){this.rk(a,function(a){var e=new FileReader;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(a)},e)};k.prototype.dp=function(a,b,e){var d="",f=a.toLowerCase(),l=f.substr(f.length-4),f=f.substr(f.length-5);".mp4"===l?d="video/mp4":".webm"===f?d="video/webm":".m4a"===l?d="audio/mp4":
".mp3"===l&&(d="audio/mpeg");this.bp(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));b(a)},e)};k.prototype.Lp=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};k.prototype.gm=function(a,b){this.Nk&&!this.Lp(b)?this.dp(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};k.prototype.Wg=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=
b,a.msImageSmoothingEnabled=b)};Kb=function(a){return new k(document.getElementById(a))};Lb=function(a,b){return new k({dc:!0,width:a,height:b})};window.cr_createRuntime=Kb;window.cr_createDCRuntime=Lb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Vj=!0;document.body.appendChild(a);a=new k(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new k(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var k=document.getElementById("c2canvas");return k?k.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(k,m){var n=window.cr_getC2Runtime();n&&n.Un(k,m)};
window.cr_sizeCanvas=function(k,m){if(0!==k&&0!==m){var n=window.cr_getC2Runtime();n&&n.setSize(k,m)}};window.cr_setSuspended=function(k){var m=window.cr_getC2Runtime();m&&m.setSuspended(k)};
(function(){function k(a,b){this.b=a;this.Dd=null;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/2;this.scale=1;this.j=0;this.he=!0;this.name=b[0];this.mq=b[1];this.lq=b[2];this.width=b[1];this.height=b[2];this.Cm=b[3];this.lm=b[4];this.D=b[5];var f=b[6],d,h;this.u=[];this.jf=[];d=0;for(h=f.length;d<h;d++){var c=new Mb(this,f[d]);c.xl=d;this.u.push(c)}f=b[7];this.ed=[];d=0;for(h=f.length;d<h;d++){var c=f[d],g=this.b.i[c[1]];g.ac||(g.ac=c);this.ed.push(c);-1===this.jf.indexOf(g)&&this.jf.push(g)}this.r=
[];this.H=[];this.Lc=!0;this.W=[];d=0;for(h=b[8].length;d<h;d++)this.r.push({id:b[8][d][0],name:b[8][d][1],ga:-1,Mb:!1,$a:!0,index:d}),this.W.push(b[8][d][2].slice(0));this.Qb();this.$i=new O(0,0,1,1);this.aj=new O(0,0,1,1);this.md={}}function m(a,b){return a.Sb-b.Sb}function n(a,b){this.qa=a;this.b=a.b;this.c=[];this.scale=1;this.j=0;this.xc=!1;this.Oc=new O(0,0,0,0);this.xm=new ua;this.Q=this.L=this.R=this.K=0;this.Vd=!1;this.Rc=-1;this.Ih=0;this.name=b[0];this.index=b[1];this.D=b[2];this.visible=
b[3];this.Fb=b[4];this.Pb=b[5];this.Ic=b[6];this.Jc=b[7];this.opacity=b[8];this.og=b[9];this.ib=b[10];this.Sc=b[11];this.va=b[12];this.to=b[13];this.ae="source-over";this.Ga=this.Ia=0;this.Aa=null;this.Fc=p();this.Ob=!0;this.se=new O(0,0,-1,-1);this.xa=new O(0,0,-1,-1);this.ib&&(this.Aa=new ab(this.b.ma,this.b.la));this.ic=!1;var f=b[14],d,h;this.qm=[];this.cb=[];this.Ue=[];d=0;for(h=f.length;d<h;d++){var c=f[d],g=this.b.i[c[1]];g.ac||(g.ac=c,g.Tn=this.index);this.cb.push(c);-1===this.qa.jf.indexOf(g)&&
this.qa.jf.push(g)}ya(this.qm,this.cb);this.r=[];this.H=[];this.Lc=!0;this.W=[];d=0;for(h=b[15].length;d<h;d++)this.r.push({id:b[15][d][0],name:b[15][d][1],ga:-1,Mb:!1,$a:!0,index:d}),this.W.push(b[15][d][2].slice(0));this.Qb();this.$i=new O(0,0,1,1);this.aj=new O(0,0,1,1)}function p(){return b.length?b.pop():[]}function u(a){P(a);b.push(a)}k.prototype.Gq=function(a){var b=a.type.D.toString();this.md.hasOwnProperty(b)||(this.md[b]=[]);this.md[b].push(this.b.ij(a))};k.prototype.Ek=function(){var a=
this.u[0];return!a.Pb&&1===a.opacity&&!a.og&&a.visible};k.prototype.Qb=function(){P(this.H);this.Lc=!0;var a,b,f;a=0;for(b=this.r.length;a<b;a++)f=this.r[a],f.$a&&(this.H.push(f),f.Mb||(this.Lc=!1))};k.prototype.Yh=function(a){var b,f,d;b=0;for(f=this.r.length;b<f;b++)if(d=this.r[b],d.name===a)return d;return null};var t=[],g=!0;k.prototype.lj=function(){this.lm&&(this.Dd=this.b.Qh[this.lm],this.Dd.uj());this.b.J=this;this.width=this.mq;this.height=this.lq;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/
2;var a,b,f,d,h,c,q;a=0;for(f=this.b.i.length;a<f;a++)if(b=this.b.i[a],!b.G)for(h=b.c,b=0,d=h.length;b<d;b++)if(c=h[b],c.e){var l=c.e.xl;l>=this.u.length&&(l=this.u.length-1);c.e=this.u[l];-1===c.e.c.indexOf(c)&&c.e.c.push(c);c.e.Vd=!0}if(!g)for(a=0,f=this.u.length;a<f;++a)this.u[a].c.sort(m);P(t);this.Jn();a=0;for(f=this.u.length;a<f;a++)c=this.u[a],c.Sn(),c.nh();h=!1;if(!this.he){for(q in this.md)if(this.md.hasOwnProperty(q)&&(b=this.b.sg(parseInt(q,10)))&&!b.G&&this.b.tj(b)){d=this.md[q];a=0;for(f=
d.length;a<f;a++){c=null;if(b.fa.gd&&(c=this.rg(d[a].w.l),!c))continue;c=this.b.xd(b.ac,c,!1,0,0,!0);this.b.Dg(c,d[a]);h=!0;t.push(c)}P(d)}a=0;for(f=this.u.length;a<f;a++)this.u[a].c.sort(m),this.u[a].Vd=!0}h&&(this.b.Da(),this.b.Vl());for(a=0;a<t.length;a++)if(c=t[a],c.type.gb)for(f=c.df(),b=0,d=c.type.Ua.length;b<d;b++)q=c.type.Ua[b],c.type!==q&&(q.c.length>f?c.siblings.push(q.c[f]):q.ac&&(h=this.b.xd(q.ac,c.e,!0,c.x,c.y,!0),this.b.Da(),q.mh(),c.siblings.push(h),t.push(h)));a=0;for(f=this.ed.length;a<
f;a++)c=this.ed[a],b=this.b.i[c[1]],b.gb||this.b.xd(this.ed[a],null,!0);this.b.Qe=null;this.b.Da();if(this.b.V&&!this.b.oa)for(a=0,f=this.b.i.length;a<f;a++)q=this.b.i[a],!q.G&&q.c.length&&q.Ql&&q.Ql(this.b.V);if(this.b.lf)ya(this.b.mg,t);else for(a=0,f=t.length;a<f;a++)c=t[a],this.b.trigger(Object.getPrototypeOf(c.type.fa).d.Aj,c);P(t);this.b.lf||this.b.trigger(W.prototype.d.Cj,null);this.he=!1};k.prototype.Rn=function(){var a,b,f,d,c;b=a=0;for(f=this.ed.length;a<f;a++)d=this.ed[a],c=this.b.i[d[1]],
c.global?c.gb||this.b.xd(d,null,!0):(this.ed[b]=d,b++);xa(this.ed,b)};k.prototype.Mq=function(){this.b.lf||this.b.trigger(W.prototype.d.gn,null);this.b.qi=!0;P(this.b.mc.Za);var a,b,f,d,c,h;if(!this.he)for(a=0,b=this.u.length;a<b;a++)for(this.u[a].wj(),c=this.u[a].c,f=0,d=c.length;f<d;f++)h=c[f],h.type.global||this.b.tj(h.type)&&this.Gq(h);a=0;for(b=this.u.length;a<b;a++){c=this.u[a].c;f=0;for(d=c.length;f<d;f++)h=c[f],h.type.global||this.b.Wd(h);this.b.Da();P(c);this.u[a].Vd=!0}a=0;for(b=this.b.i.length;a<
b;a++)if(c=this.b.i[a],!(c.global||c.fa.gd||c.fa.ah||c.G)){f=0;for(d=c.c.length;f<d;f++)this.b.Wd(c.c[f]);this.b.Da()}g=!1;this.b.qi=!1};new O(0,0,0,0);k.prototype.zd=function(a){var b,f=a,d=!1,c=!this.b.bb;c&&(this.b.Bg||(this.b.Bg=document.createElement("canvas"),b=this.b.Bg,b.width=this.b.q,b.height=this.b.p,this.b.Wk=b.getContext("2d"),d=!0),b=this.b.Bg,f=this.b.Wk,b.width!==this.b.q&&(b.width=this.b.q,d=!0),b.height!==this.b.p&&(b.height=this.b.p,d=!0),d&&this.b.Wg(f,this.b.ea));f.globalAlpha=
1;f.globalCompositeOperation="source-over";this.b.fk&&!this.Ek()&&f.clearRect(0,0,this.b.q,this.b.p);var h,g,d=0;for(h=this.u.length;d<h;d++)g=this.u[d],g.visible&&0<g.opacity&&11!==g.va&&(g.c.length||!g.Pb)?g.zd(f):g.nh();c&&a.drawImage(b,0,0,this.b.width,this.b.height)};k.prototype.ee=function(a){a.fm(!0);this.b.da||(this.b.da=a.lb(this.b.q,this.b.p,this.b.ea));if(this.b.da.wd!==this.b.q||this.b.da.vd!==this.b.p)a.deleteTexture(this.b.da),this.b.da=a.lb(this.b.q,this.b.p,this.b.ea);a.wb(this.b.da);
this.b.bb||a.Td(this.b.q,this.b.p);var b,f;for(b=this.u.length-1;0<=b;--b)f=this.u[b],f.visible&&1===f.opacity&&f.Lc&&0===f.va&&(f.c.length||!f.Pb)?f.ee(a):f.nh();a.fm(!1)};k.prototype.Hb=function(a){var b=0<this.H.length||this.b.He||!this.b.bb||this.b.M;if(b){this.b.da||(this.b.da=a.lb(this.b.q,this.b.p,this.b.ea));if(this.b.da.wd!==this.b.q||this.b.da.vd!==this.b.p)a.deleteTexture(this.b.da),this.b.da=a.lb(this.b.q,this.b.p,this.b.ea);a.wb(this.b.da);this.b.bb||a.Td(this.b.q,this.b.p)}else this.b.da&&
(a.wb(null),a.deleteTexture(this.b.da),this.b.da=null);this.b.fk&&!this.Ek()&&a.clear(0,0,0,0);var f,d,c;f=0;for(d=this.u.length;f<d;f++)c=this.u[f],c.visible&&0<c.opacity&&(c.c.length||!c.Pb)?c.Hb(a):c.nh();b&&(0===this.H.length||1===this.H.length&&this.b.bb?(1===this.H.length?(b=this.H[0].index,a.Qa(this.H[0].ga),a.Be(null,1/this.b.q,1/this.b.p,0,0,1,1,this.scale,this.j,0,0,this.b.q/2,this.b.p/2,this.b.rb.aa,this.W[b]),a.Rg(this.H[0].ga)&&(this.b.I=!0)):a.Qa(0),this.b.bb||a.Td(this.b.width,this.b.height),
a.wb(null),a.em(!1),a.Jf(1),a.xb(this.b.da),a.cm(),a.jc(),a.Rb(),b=this.b.width/2,f=this.b.height/2,a.If(-b,f,b,f,b,-f,-b,-f),a.xb(null),a.em(!0)):this.bj(a,null,null,null))};k.prototype.cf=function(){return 0<this.H.length||this.b.He||!this.b.bb||this.b.M?this.b.da:null};k.prototype.Ak=function(){var a=this.u[0].pb(),b,f,d;b=1;for(f=this.u.length;b<f;b++)d=this.u[b],(0!==d.Ic||0!==d.Jc)&&d.pb()<a&&(a=d.pb());return a};k.prototype.$l=function(a){if(!this.Cm){var b=1/this.Ak()*this.b.q/2;a>this.width-
b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.I=!0)};k.prototype.am=function(a){if(!this.Cm){var b=1/this.Ak()*this.b.p/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.I=!0)};k.prototype.Jn=function(){this.$l(this.scrollX);this.am(this.scrollY)};k.prototype.bj=function(a,b,f,d){var c=f?f.H:b?b.H:this.H,h=1,g=0,l=0,r=0,k=this.b.q,m=this.b.p;f?(h=f.e.pb(),g=f.e.ob(),l=f.e.K,r=f.e.L,k=f.e.R,m=f.e.Q):b&&(h=b.pb(),g=b.ob(),l=b.K,r=b.L,
k=b.R,m=b.Q);var n=this.b.Wh,p,z,u,t,E=0,T=1,Y,ca,I=this.b.q,v=this.b.p,Ga=I/2,Ha=v/2,D=b?b.$i:this.$i,B=b?b.aj:this.aj,F=0,M=0,C=0,A=0,J=I,pa=I,H=v,oa=v,ja=u=0;t=f?f.e.ob():0;if(f){p=0;for(z=c.length;p<z;p++)u+=a.pp(c[p].ga),ja+=a.qp(c[p].ga);A=f.Ea;F=b.sb(A.left,A.top,!0);C=b.sb(A.left,A.top,!1);J=b.sb(A.right,A.bottom,!0);H=b.sb(A.right,A.bottom,!1);0!==t&&(p=b.sb(A.right,A.top,!0),z=b.sb(A.right,A.top,!1),M=b.sb(A.left,A.bottom,!0),A=b.sb(A.left,A.bottom,!1),t=Math.min(F,J,p,M),J=Math.max(F,J,
p,M),F=t,t=Math.min(C,H,z,A),H=Math.max(C,H,z,A),C=t);F-=u;C-=ja;J+=u;H+=ja;B.left=F/I;B.top=1-C/v;B.right=J/I;B.bottom=1-H/v;M=F=K(F);A=C=K(C);pa=J=sa(J);oa=H=sa(H);M-=u;A-=ja;pa+=u;oa+=ja;0>F&&(F=0);0>C&&(C=0);J>I&&(J=I);H>v&&(H=v);0>M&&(M=0);0>A&&(A=0);pa>I&&(pa=I);oa>v&&(oa=v);D.left=F/I;D.top=1-C/v;D.right=J/I;D.bottom=1-H/v}else D.left=B.left=0,D.top=B.top=0,D.right=B.right=1,D.bottom=B.bottom=1;ja=f&&(a.Gf(c[0].ga)||0!==u||0!==ja||1!==f.opacity||f.type.fa.tl)||b&&!f&&1!==b.opacity;a.cm();if(ja){n[E]||
(n[E]=a.lb(I,v,this.b.ea));if(n[E].wd!==I||n[E].vd!==v)a.deleteTexture(n[E]),n[E]=a.lb(I,v,this.b.ea);a.Qa(0);a.wb(n[E]);ca=oa-A;a.clearRect(M,v-A-ca,pa-M,ca);f?f.Hb(a):(a.xb(this.b.ia),a.Jf(b.opacity),a.jc(),a.translate(-Ga,-Ha),a.Rb(),a.Sd(F,H,J,H,J,C,F,C,D));B.left=B.top=0;B.right=B.bottom=1;f&&(t=D.top,D.top=D.bottom,D.bottom=t);E=1;T=0}a.Jf(1);u=c.length-1;var Sa=a.Wi(c[u].ga)||!b&&!f&&!this.b.bb;p=t=0;for(z=c.length;p<z;p++){n[E]||(n[E]=a.lb(I,v,this.b.ea));if(n[E].wd!==I||n[E].vd!==v)a.deleteTexture(n[E]),
n[E]=a.lb(I,v,this.b.ea);a.Qa(c[p].ga);t=c[p].index;a.Rg(c[p].ga)&&(this.b.I=!0);0!=p||ja?(a.Be(d,1/I,1/v,B.left,B.top,B.right,B.bottom,h,g,l,r,(l+k)/2,(r+m)/2,this.b.rb.aa,f?f.W[t]:b?b.W[t]:this.W[t]),a.xb(null),p!==u||Sa?(a.wb(n[E]),ca=oa-A,Y=v-A-ca,a.clearRect(M,Y,pa-M,ca)):(f?a.nd(f.Ia,f.Ga):b&&a.nd(b.Ia,b.Ga),a.wb(d)),a.xb(n[T]),a.jc(),a.translate(-Ga,-Ha),a.Rb(),a.Sd(F,H,J,H,J,C,F,C,D),p!==u||Sa||a.xb(null)):(a.wb(n[E]),ca=oa-A,Y=v-A-ca,a.clearRect(M,Y,pa-M,ca),f?(f.wa&&f.wa.ua?(Y=f.wa.ua,T=
1/Y.width,Y=1/Y.height):(T=1/f.width,Y=1/f.height),a.Be(d,T,Y,B.left,B.top,B.right,B.bottom,h,g,l,r,(l+k)/2,(r+m)/2,this.b.rb.aa,f.W[t]),f.Hb(a)):(a.Be(d,1/I,1/v,0,0,1,1,h,g,l,r,(l+k)/2,(r+m)/2,this.b.rb.aa,b?b.W[t]:this.W[t]),a.xb(b?this.b.ia:this.b.da),a.jc(),a.translate(-Ga,-Ha),a.Rb(),a.Sd(F,H,J,H,J,C,F,C,D)),B.left=B.top=0,B.right=B.bottom=1,f&&!Sa&&(t=H,H=C,C=t));E=0===E?1:0;T=0===E?1:0}Sa&&(a.Qa(0),f?a.nd(f.Ia,f.Ga):b?a.nd(b.Ia,b.Ga):this.b.bb||(a.Td(this.b.width,this.b.height),Ga=this.b.width/
2,Ha=this.b.height/2,C=F=0,J=this.b.width,H=this.b.height),a.wb(d),a.xb(n[T]),a.jc(),a.translate(-Ga,-Ha),a.Rb(),f&&1===c.length&&!ja?a.Sd(F,C,J,C,J,H,F,H,D):a.Sd(F,H,J,H,J,C,F,C,D),a.xb(null))};k.prototype.rg=function(a){var b,f;b=0;for(f=this.u.length;b<f;b++)if(this.u[b].D===a)return this.u[b];return null};k.prototype.lc=function(){var a,b,f,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.he,persist:this.md,fx:[],layers:{}};a=0;for(b=this.r.length;a<
b;a++)f=this.r[a],d.fx.push({name:f.name,active:f.$a,params:this.W[f.index]});a=0;for(b=this.u.length;a<b;a++)f=this.u[a],d.layers[f.D.toString()]=f.lc();return d};k.prototype.hd=function(a){var b,f,d,c;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.md=a.persist;"undefined"!==typeof a.fv&&(this.he=a.fv);var h=a.fx;b=0;for(f=h.length;b<f;b++)if(d=this.Yh(h[b].name))d.$a=h[b].active,this.W[d.index]=h[b].params;this.Qb();b=a.layers;for(c in b)b.hasOwnProperty(c)&&
(a=this.rg(parseInt(c,10)))&&a.hd(b[c])};yb=k;n.prototype.Qb=function(){P(this.H);this.Lc=!0;var a,b,f;a=0;for(b=this.r.length;a<b;a++)f=this.r[a],f.$a&&(this.H.push(f),f.Mb||(this.Lc=!1))};n.prototype.Yh=function(a){var b,f,d;b=0;for(f=this.r.length;b<f;b++)if(d=this.r[b],d.name===a)return d;return null};n.prototype.Sn=function(){var a,b,f,d,c,h;b=a=0;for(f=this.cb.length;a<f;a++){d=this.cb[a];c=this.b.i[d[1]];h=this.b.tj(c);c=!0;if(!h||this.qa.he){d=this.b.xd(d,this,!0);if(!d)continue;t.push(d);
d.type.global&&(c=!1,this.Ue.push(d.uid))}c&&(this.cb[b]=this.cb[a],b++)}this.cb.length=b;this.b.Da();!this.b.m&&this.r.length&&(this.va=this.to);this.ae=bb(this.va);this.b.g&&cb(this,this.va,this.b.g);this.Ob=!0};n.prototype.ze=function(a,b){var f=Aa(this.c,a);0>f||(b&&this.ib&&a.Pa&&a.Pa.right>=a.Pa.left&&(a.Ca(),this.Aa.update(a,a.Pa,null),a.Pa.set(0,0,-1,-1)),f===this.c.length-1?this.c.pop():(wa(this.c,f),this.Kf(f)),this.Ob=!0)};n.prototype.Ne=function(a,b){a.Sb=this.c.length;this.c.push(a);
b&&this.ib&&a.Pa&&a.ta();this.Ob=!0};n.prototype.tq=function(a){this.c.unshift(a);this.Kf(0)};n.prototype.cq=function(a,b,f){var d=a.ec();b=b.ec();wa(this.c,d);d<b&&b--;f&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Kf(d<b?d:b)};n.prototype.Kf=function(a){-1===this.Rc?this.Rc=a:a<this.Rc&&(this.Rc=a);this.Ob=this.Vd=!0};n.prototype.wj=function(){if(this.Vd){-1===this.Rc&&(this.Rc=0);var a,b,f;if(this.ib)for(a=this.Rc,b=this.c.length;a<b;++a)f=this.c[a],f.Sb=a,this.Aa.$p(f.Pa);else for(a=
this.Rc,b=this.c.length;a<b;++a)this.c[a].Sb=a;this.Vd=!1;this.Rc=-1}};n.prototype.pb=function(a){return this.np()*(this.b.bb||a?this.b.Oe:1)};n.prototype.np=function(){return(this.scale*this.qa.scale-1)*this.Sc+1};n.prototype.ob=function(){return this.xc?0:Ia(this.qa.j+this.j)};var b=[],c=[],h=[];n.prototype.ci=function(){this.wj();this.Aa.Ul(this.K,this.L,this.R,this.Q,h);if(!h.length)return p();if(1===h.length){var a=p();ya(a,h[0]);P(h);return a}for(var b=!0;1<h.length;){for(var a=h,f=void 0,d=
void 0,g=void 0,k=void 0,q=void 0,f=0,d=a.length;f<d-1;f+=2){var g=a[f],k=a[f+1],q=p(),l=g,r=k,m=q,n=0,L=0,t=0,z=l.length,fa=r.length,ia=void 0,E=void 0;for(m.length=z+fa;n<z&&L<fa;++t)ia=l[n],E=r[L],ia.Sb<E.Sb?(m[t]=ia,++n):(m[t]=E,++L);for(;n<z;++n,++t)m[t]=l[n];for(;L<fa;++L,++t)m[t]=r[L];b||(u(g),u(k));c.push(q)}1===d%2&&(b?(g=p(),ya(g,a[d-1]),c.push(g)):c.push(a[d-1]));ya(a,c);P(c);b=!1}a=h[0];P(h);return a};n.prototype.zd=function(a){this.ic=this.og||1!==this.opacity||0!==this.va;var b=this.b.canvas,
f=a,d=!1;this.ic&&(this.b.Ag||(this.b.Ag=document.createElement("canvas"),b=this.b.Ag,b.width=this.b.q,b.height=this.b.p,this.b.Vk=b.getContext("2d"),d=!0),b=this.b.Ag,f=this.b.Vk,b.width!==this.b.q&&(b.width=this.b.q,d=!0),b.height!==this.b.p&&(b.height=this.b.p,d=!0),d&&this.b.Wg(f,this.b.ea),this.Pb&&f.clearRect(0,0,this.b.q,this.b.p));f.globalAlpha=1;f.globalCompositeOperation="source-over";this.Pb||(f.fillStyle="rgb("+this.Fb[0]+","+this.Fb[1]+","+this.Fb[2]+")",f.fillRect(0,0,this.b.q,this.b.p));
f.save();this.xc=!0;var d=this.Ja(0,0,!0,!0),c=this.Ja(0,0,!1,!0);this.xc=!1;this.b.Rd&&(d=Math.round(d),c=Math.round(c));this.Vg(d,c,f);var h=this.pb();f.scale(h,h);f.translate(-d,-c);this.ib?(this.xa.left=this.Aa.La(this.K),this.xa.top=this.Aa.Ma(this.L),this.xa.right=this.Aa.La(this.R),this.xa.bottom=this.Aa.Ma(this.Q),this.Ob||!this.xa.We(this.se)?(u(this.Fc),d=this.ci(),this.Ob=!1,this.se.Se(this.xa)):d=this.Fc):d=this.c;for(var g,l=null,c=0,h=d.length;c<h;++c)g=d[c],g!==l&&(this.oo(g,f),l=g);
this.ib&&(this.Fc=d);f.restore();this.ic&&(a.globalCompositeOperation=this.ae,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};n.prototype.oo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ca();var f=a.Ea;f.right<this.K||f.bottom<this.L||f.left>this.R||f.top>this.Q||(b.globalCompositeOperation=a.ae,a.zd(b))}};n.prototype.nh=function(){this.xc=!0;var a=this.Ja(0,0,!0,!0),b=this.Ja(0,0,!1,!0);this.xc=!1;this.b.Rd&&(a=Math.round(a),b=Math.round(b));this.Vg(a,b,null)};n.prototype.Vg=function(a,
b,f){var d=this.pb();this.K=a;this.L=b;this.R=a+1/d*this.b.q;this.Q=b+1/d*this.b.p;this.K>this.R&&(a=this.K,this.K=this.R,this.R=a);this.L>this.Q&&(a=this.L,this.L=this.Q,this.Q=a);a=this.ob();0!==a&&(f&&(f.translate(this.b.q/2,this.b.p/2),f.rotate(-a),f.translate(this.b.q/-2,this.b.p/-2)),this.Oc.set(this.K,this.L,this.R,this.Q),this.Oc.offset((this.K+this.R)/-2,(this.L+this.Q)/-2),this.xm.jm(this.Oc,a),this.xm.ak(this.Oc),this.Oc.offset((this.K+this.R)/2,(this.L+this.Q)/2),this.K=this.Oc.left,this.L=
this.Oc.top,this.R=this.Oc.right,this.Q=this.Oc.bottom)};n.prototype.ee=function(a){if(this.ic=this.og){this.b.ia||(this.b.ia=a.lb(this.b.q,this.b.p,this.b.ea));if(this.b.ia.wd!==this.b.q||this.b.ia.vd!==this.b.p)a.deleteTexture(this.b.ia),this.b.ia=a.lb(this.b.q,this.b.p,this.b.ea);a.wb(this.b.ia)}this.xc=!0;var b=this.Ja(0,0,!0,!0),f=this.Ja(0,0,!1,!0);this.xc=!1;this.b.Rd&&(b=Math.round(b),f=Math.round(f));this.Vg(b,f,null);b=this.pb();a.jc();a.scale(b,b);a.ej(-this.ob());a.translate((this.K+this.R)/
-2,(this.L+this.Q)/-2);a.Rb();this.ib?(this.xa.left=this.Aa.La(this.K),this.xa.top=this.Aa.Ma(this.L),this.xa.right=this.Aa.La(this.R),this.xa.bottom=this.Aa.Ma(this.Q),this.Ob||!this.xa.We(this.se)?(u(this.Fc),b=this.ci(),this.Ob=!1,this.se.Se(this.xa)):b=this.Fc):b=this.c;for(var d,c=null,f=b.length-1;0<=f;--f)d=b[f],d!==c&&(this.qo(b[f],a),c=d);this.ib&&(this.Fc=b);this.Pb||(this.Ih=this.b.Bd++,a.Xg(this.Ih),a.dm(1,1,1),a.uk(),a.zq())};n.prototype.Hb=function(a){var b=0,f=0;if(this.ic=this.og||
1!==this.opacity||0<this.H.length||0!==this.va){this.b.ia||(this.b.ia=a.lb(this.b.q,this.b.p,this.b.ea));if(this.b.ia.wd!==this.b.q||this.b.ia.vd!==this.b.p)a.deleteTexture(this.b.ia),this.b.ia=a.lb(this.b.q,this.b.p,this.b.ea);a.wb(this.b.ia);this.Pb&&a.clear(0,0,0,0)}this.Pb||(this.b.M?(a.Xg(this.Ih),a.dm(this.Fb[0]/255,this.Fb[1]/255,this.Fb[2]/255),a.uk(),a.Jq()):a.clear(this.Fb[0]/255,this.Fb[1]/255,this.Fb[2]/255,1));this.xc=!0;var d=this.Ja(0,0,!0,!0),b=this.Ja(0,0,!1,!0);this.xc=!1;this.b.Rd&&
(d=Math.round(d),b=Math.round(b));this.Vg(d,b,null);d=this.pb();a.jc();a.scale(d,d);a.ej(-this.ob());a.translate((this.K+this.R)/-2,(this.L+this.Q)/-2);a.Rb();this.ib?(this.xa.left=this.Aa.La(this.K),this.xa.top=this.Aa.Ma(this.L),this.xa.right=this.Aa.La(this.R),this.xa.bottom=this.Aa.Ma(this.Q),this.Ob||!this.xa.We(this.se)?(u(this.Fc),b=this.ci(),this.Ob=!1,this.se.Se(this.xa)):b=this.Fc):b=this.c;var c,h,g=null,f=0;for(c=b.length;f<c;++f)h=b[f],h!==g&&(this.po(b[f],a),g=h);this.ib&&(this.Fc=b);
this.ic&&(b=this.H.length?this.H[0].ga:0,f=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!a.Wi(b)&&1===this.opacity?(1===this.H.length?(a.Qa(b),a.Be(this.qa.cf(),1/this.b.q,1/this.b.p,0,0,1,1,d,this.ob(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.rb.aa,this.W[f]),a.Rg(b)&&(this.b.I=!0)):a.Qa(0),a.wb(this.qa.cf()),a.Jf(this.opacity),a.xb(this.b.ia),a.nd(this.Ia,this.Ga),a.jc(),a.Rb(),d=this.b.q/2,b=this.b.p/2,a.If(-d,b,d,b,d,-b,-d,-b),a.xb(null)):this.qa.bj(a,
this,null,this.qa.cf()))};n.prototype.po=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ca();var c=a.Ea;c.right<this.K||c.bottom<this.L||c.left>this.R||c.top>this.Q||(b.Xg(a.Bd),a.Hm?this.ro(a,b):(b.Qa(0),b.nd(a.Ia,a.Ga),a.Hb(b)))}};n.prototype.qo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ca();var c=a.Ea;c.right<this.K||c.bottom<this.L||c.left>this.R||c.top>this.Q||(a.Bd=this.b.Bd++,0===a.va&&1===a.opacity&&a.Lc&&a.ee&&(b.Xg(a.Bd),a.ee(b)))}};n.prototype.ro=function(a,b){var c=
a.H[0].ga,d=a.H[0].index,h=this.pb();if(1!==a.H.length||b.Wi(c)||b.vq(c)||(a.j||a.e.ob())&&b.Gf(c)||1!==a.opacity||a.type.fa.tl)this.qa.bj(b,this,a,this.ic?this.b.ia:this.qa.cf()),b.jc(),b.scale(h,h),b.ej(-this.ob()),b.translate((this.K+this.R)/-2,(this.L+this.Q)/-2),b.Rb();else{b.Qa(c);b.nd(a.Ia,a.Ga);b.Rg(c)&&(this.b.I=!0);var g=0,q=0,l=0,r=0;b.Gf(c)&&(r=a.Ea,g=this.sb(r.left,r.top,!0),q=this.sb(r.left,r.top,!1),l=this.sb(r.right,r.bottom,!0),r=this.sb(r.right,r.bottom,!1),g=g/windowWidth,q=1-q/
windowHeight,l=l/windowWidth,r=1-r/windowHeight);var k;a.wa&&a.wa.ua?(k=a.wa.ua,c=1/k.width,k=1/k.height):(c=1/a.width,k=1/a.height);b.Be(this.ic?this.b.ia:this.qa.cf(),c,k,g,q,l,r,h,this.ob(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.rb.aa,a.W[d]);a.Hb(b)}};n.prototype.Ja=function(a,b,c,d){var h=this.b.devicePixelRatio;this.b.me&&(a*=h,b*=h);var h=this.b.Jl,g=this.b.Kl,h=(this.qa.scrollX-h)*this.Ic+h,g=(this.qa.scrollY-g)*this.Jc+g,k=h,l=g,r=1/this.pb(!d);d?(k-=this.b.q*r/2,l-=this.b.p*
r/2):(k-=this.b.width*r/2,l-=this.b.height*r/2);k+=a*r;l+=b*r;b=this.ob();0!==b&&(k-=h,l-=g,a=Math.cos(b),b=Math.sin(b),d=k*a-l*b,l=l*a+k*b,k=d+h,l+=g);return c?k:l};n.prototype.sb=function(a,b,c){var d=this.b.Jl,h=this.b.Kl,d=(this.qa.scrollX-d)*this.Ic+d,g=(this.qa.scrollY-h)*this.Jc+h,h=d,k=g,l=this.ob();if(0!==l){a-=d;b-=g;var r=Math.cos(-l),l=Math.sin(-l),m=a*r-b*l;b=b*r+a*l;a=m+d;b+=g}d=1/this.pb(!1);h-=this.b.q*d/2;k-=this.b.p*d/2;h=(a-h)/d;return c?h:(b-k)/d};n.prototype.lc=function(){var a,
b,c,d={s:this.scale,a:this.j,vl:this.K,vt:this.L,vr:this.R,vb:this.Q,v:this.visible,bc:this.Fb,t:this.Pb,px:this.Ic,py:this.Jc,o:this.opacity,zr:this.Sc,fx:[],cg:this.Ue,instances:[]};a=0;for(b=this.r.length;a<b;a++)c=this.r[a],d.fx.push({name:c.name,active:c.$a,params:this.W[c.index]});return d};n.prototype.hd=function(a){var b,c,d;this.scale=a.s;this.j=a.a;this.K=a.vl;this.L=a.vt;this.R=a.vr;this.Q=a.vb;this.visible=a.v;this.Fb=a.bc;this.Pb=a.t;this.Ic=a.px;this.Jc=a.py;this.opacity=a.o;this.Sc=
a.zr;this.Ue=a.cg||[];ya(this.cb,this.qm);var h=new ba;b=0;for(d=this.Ue.length;b<d;++b)h.add(this.Ue[b]);c=b=0;for(d=this.cb.length;b<d;++b)h.contains(this.cb[b][2])||(this.cb[c]=this.cb[b],++c);xa(this.cb,c);c=a.fx;b=0;for(d=c.length;b<d;b++)if(a=this.Yh(c[b].name))a.$a=c[b].active,this.W[a.index]=c[b].params;this.Qb();this.c.sort(m);this.Vd=!0};Mb=n})();
(function(){function k(a,b){var d,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<e;d++)if(a[d]!==b[d])return!1;return!0}}function m(a,b){return a.index-b.index}function n(a){var b,d,e,c;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);c=w[a.length];b=0;for(d=c.length;b<d;b++)if(e=c[b],k(a,e))return e;c.push(a);return a}
function p(a,b){this.b=a;this.zm={};this.qk={};this.hi=!1;this.Gk=new ba;this.Nh=[];this.uh=[];this.name=b[0];var d=b[1];this.bd=[];var e,c;e=0;for(c=d.length;e<c;e++)this.Ik(d[e],null,this.bd)}function u(a){this.type=a;this.c=[];this.F=[];this.Y=!0}function t(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.od=[];this.Fk=this.jh=this.pj=this.ki=this.group=this.pm=!1;this.Fa=[];this.Cb=[];this.yb=[];this.ef="";this.ke=this.ki=this.group=!1;this.dg=null;d[1]&&(this.ef=d[1][1].toLowerCase(),
this.group=!0,this.ki=!!d[1][0],this.dg=[],this.ke=this.ki,this.b.$d.push(this),this.b.ff[this.ef]=this);this.Lb=d[2];this.D=d[4];this.group||(this.b.$j[this.D.toString()]=this);var e=d[5];a=0;for(b=e.length;a<b;a++){var c=new Nb(this,e[a]);c.index=a;this.Fa.push(c);this.Oj(c.type)}e=d[6];a=0;for(b=e.length;a<b;a++)c=new Ob(this,e[a]),c.index=a,this.Cb.push(c);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Ik(d[a],this,this.yb);this.xg=!1;this.Fa.length&&(this.xg=null==this.Fa[0].type&&
this.Fa[0].ya==W.prototype.d.Qm)}function g(a,b){var d,e,c;if(a&&(-1===b.indexOf(a)&&b.push(a),a.gb))for(d=0,e=a.Ua.length;d<e;d++)c=a.Ua[d],a!==c&&-1===b.indexOf(c)&&b.push(c)}function b(a,b){this.ab=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.X=[];this.S={};this.index=-1;this.Le=!1;this.ya=this.b.Tc(b[1]);this.trigger=0<b[3];this.pk=2===b[3];this.ni=b[5];this.Wp=b[6];this.D=b[7];this.b.Zc[this.D.toString()]=this;-1===b[0]?(this.type=null,this.na=this.hj,this.ud=null,this.Gb=-1):(this.type=this.b.i[b[0]],
this.na=this.Wp?this.Eq:this.gj,b[2]?(this.ud=this.type.qg(b[2]),this.Gb=this.type.Xh(b[2])):(this.ud=null,this.Gb=-1),this.ab.parent&&this.ab.parent.Yg());this.pk&&(this.na=this.Fq);if(10===b.length){var d,e,c=b[9];d=0;for(e=c.length;d<e;d++){var h=new Pb(this,c[d]);this.C.push(h)}this.X.length=c.length}}function c(a,b){this.ab=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.X=[];this.S={};this.index=-1;this.Le=!1;this.ya=this.b.Tc(b[1]);-1===b[0]?(this.type=null,this.na=this.hj,this.ud=null,this.Gb=
-1):(this.type=this.b.i[b[0]],this.na=this.gj,b[2]?(this.ud=this.type.qg(b[2]),this.Gb=this.type.Xh(b[2])):(this.ud=null,this.Gb=-1));this.D=b[3];this.b.Vc[this.D.toString()]=this;if(6===b.length){var d,e,c=b[5];d=0;for(e=c.length;d<e;d++){var h=new Pb(this,c[d]);this.C.push(h)}this.X.length=c.length}}function h(){q++;x.length===q&&x.push(new Qb);return x[q]}function a(a,b){this.ub=a;this.ab=a.ab;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.cc=null;this.Mc=0;this.get=null;this.hk=0;this.qa=null;
this.key=0;this.object=null;this.index=0;this.Vf=this.Ud=this.Vf=this.Ud=this.sk=this.Ed=this.Wf=null;this.Ab=!1;var d,e,c;switch(b[0]){case 0:case 7:this.cc=new S(this,b[1]);this.Mc=0;this.get=this.vp;break;case 1:this.cc=new S(this,b[1]);this.Mc=0;this.get=this.wp;break;case 5:this.cc=new S(this,b[1]);this.Mc=0;this.get=this.Ap;break;case 3:case 8:this.hk=b[1];this.get=this.tp;break;case 6:this.qa=this.b.Fi[b[1]];this.get=this.Bp;break;case 9:this.key=b[1];this.get=this.zp;break;case 4:this.object=
this.b.i[b[1]];this.get=this.Cp;this.ab.Oj(this.object);this.ub instanceof Ob?this.ab.Yg():this.ab.parent&&this.ab.parent.Yg();break;case 10:this.index=b[1];a.type&&a.type.G?(this.get=this.xp,this.Ab=!0):this.get=this.yp;break;case 11:this.Wf=b[1];this.Ed=null;this.get=this.up;break;case 2:case 12:this.sk=b[1];this.get=this.sp;break;case 13:for(this.get=this.Dp,this.Ud=[],this.Vf=[],d=1,e=b.length;d<e;d++)c=new Pb(this.ub,b[d]),this.Ud.push(c),this.Vf.push(0)}}function e(a,b,d){this.sheet=a;this.parent=
b;this.b=a.b;this.ca=[];this.name=d[1];this.Jm=d[2];this.ji=d[3];this.of=!!d[4];this.wg=!!d[5];this.D=d[6];this.b.Je[this.D.toString()]=this;this.data=this.ji;this.parent?(this.Pd=this.of||this.wg?-1:this.b.Lq++,this.b.Fn.push(this)):(this.Pd=-1,this.b.En.push(this))}function f(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.hf=null;this.Ip=d[1];this.$a=!0}function d(){this.rm=[];this.reset(null)}var w=[];p.prototype.toString=function(){return this.name};p.prototype.Ik=function(a,b,d){switch(a[0]){case 0:a=
new Rb(this,b,a);if(a.Lb)for(d.push(a),d=0,b=a.Fa.length;d<b;d++)a.Fa[d].trigger&&this.Jk(a,d);else a.Pk()?this.Jk(a,0):d.push(a);break;case 1:a=new Jb(this,b,a);d.push(a);break;case 2:a=new Sb(this,b,a),d.push(a)}};p.prototype.ba=function(){var a,b;a=0;for(b=this.bd.length;a<b;a++)this.bd[a].ba(a<b-1&&this.bd[a+1].xg)};p.prototype.uj=function(){P(this.Nh);P(this.uh);this.Nj(this);P(this.uh)};p.prototype.Nj=function(a){var b,d,e,c,h=a.Nh,f=a.uh,g=this.Gk.qd();b=0;for(d=g.length;b<d;++b)e=g[b],c=e.hf,
!e.$a||a===c||-1<f.indexOf(c)||(f.push(c),c.Nj(a),h.push(c))};p.prototype.na=function(a){this.b.Fs||(this.hi=!0,a||(this.b.vi=!0));var b,d;b=0;for(d=this.bd.length;b<d;b++){var e=this.bd[b];e.na();this.b.Hh(e.ca);this.b.dd&&this.b.Da()}a||(this.b.vi=!1)};p.prototype.Jk=function(a,b){a.Lb||this.b.lh.push(a);var d,e,c=a.Fa[b],h;c.type?h=c.type.name:h="system";var f=(d=c.pk)?this.qk:this.zm;f[h]||(f[h]=[]);h=f[h];f=c.ya;if(d){if(c.C.length&&(c=c.C[0],1===c.type&&2===c.cc.type)){c=c.cc.value.toLowerCase();
d=0;for(e=h.length;d<e;d++)if(h[d].method==f){d=h[d].Ye;d[c]?d[c].push([a,b]):d[c]=[[a,b]];return}d={};d[c]=[[a,b]];h.push({method:f,Ye:d})}}else{d=0;for(e=h.length;d<e;d++)if(h[d].method==f){h[d].Ye.push([a,b]);return}bc&&f===bc.prototype.d.Zd?h.unshift({method:f,Ye:[[a,b]]}):h.push({method:f,Ye:[[a,b]]})}};zb=p;u.prototype.gi=function(){return this.Y?this.type.c.length:this.c.length};u.prototype.Ib=function(){return this.Y?this.type.c:this.c};u.prototype.Ff=function(a){a&&(a.b.Oa().mb.Lb?(this.Y&&
(P(this.c),ya(this.F,a.type.c),this.Y=!1),a=this.F.indexOf(a),-1!==a&&(this.c.push(this.F[a]),this.F.splice(a,1))):(this.Y=!1,P(this.c),this.c[0]=a))};ib=u;window._c2hh_="442307598927C80088ACF3ADA3D0B2E93AA6CBFC";t.prototype.ba=function(a){var b,d=this.parent;if(this.group)for(this.jh=!0;d;){if(!d.group){this.jh=!1;break}d=d.parent}this.pj=!this.Pk()&&(!this.parent||this.parent.group&&this.parent.jh);this.Fk=!!a;this.od=this.ca.slice(0);for(d=this.parent;d;){a=0;for(b=d.ca.length;a<b;a++)this.Cn(d.ca[a]);
d=d.parent}this.ca=n(this.ca);this.od=n(this.od);a=0;for(b=this.Fa.length;a<b;a++)this.Fa[a].ba();a=0;for(b=this.Cb.length;a<b;a++)this.Cb[a].ba();a=0;for(b=this.yb.length;a<b;a++)this.yb[a].ba(a<b-1&&this.yb[a+1].xg)};t.prototype.Iq=function(a){if(this.ke!==!!a){this.ke=!!a;var b;a=0;for(b=this.dg.length;a<b;++a)this.dg[a].Fm();0<b&&this.b.J.Dd&&this.b.J.Dd.uj()}};t.prototype.Oj=function(a){g(a,this.ca)};t.prototype.Cn=function(a){g(a,this.od)};t.prototype.Yg=function(){this.pm=!0;this.parent&&this.parent.Yg()};
t.prototype.Pk=function(){return this.Fa.length?this.Fa[0].trigger:!1};t.prototype.na=function(){var a,b,d=!1,e=this.b,c=this.b.Oa();c.mb=this;var h=this.Fa;this.xg||(c.Oh=!1);if(this.Lb){0===h.length&&(d=!0);c.Ta=0;for(a=h.length;c.Ta<a;c.Ta++)b=h[c.Ta],b.trigger||(b=b.na())&&(d=!0);(c.Ld=d)&&this.fj()}else{c.Ta=0;for(a=h.length;c.Ta<a;c.Ta++)if(b=h[c.Ta].na(),!b){c.Ld=!1;this.pj&&e.dd&&e.Da();return}c.Ld=!0;this.fj()}this.vo(c)};t.prototype.vo=function(a){a.Ld&&this.Fk&&(a.Oh=!0);this.pj&&this.b.dd&&
this.b.Da()};t.prototype.Cq=function(a){this.b.Oa().mb=this;this.Fa[a].na()&&(this.fj(),this.b.Oa().Ld=!0)};t.prototype.fj=function(){var a=this.b.Oa(),b;a.jb=0;for(b=this.Cb.length;a.jb<b;a.jb++)if(this.Cb[a.jb].na())return;this.Yl()};t.prototype.Aq=function(){var a=this.b.Oa(),b;for(b=this.Cb.length;a.jb<b;a.jb++)if(this.Cb[a.jb].na())return;this.Yl()};t.prototype.Yl=function(){if(this.yb.length){var a,b,d,c,e=this.yb.length-1;this.b.Yi(this);if(this.pm)for(a=0,b=this.yb.length;a<b;a++)d=this.yb[a],
(c=!this.jh||!this.group&&a<e)&&this.b.Xi(d.ca),d.na(),c?this.b.xe(d.ca):this.b.Hh(d.ca);else for(a=0,b=this.yb.length;a<b;a++)this.yb[a].na();this.b.Ol()}};t.prototype.Dq=function(){var a=this.b.Oa();a.mb=this;var b=!1,d;a.Ta=0;for(d=this.Fa.length;a.Ta<d;a.Ta++)if(this.Fa[a.Ta].na())b=!0;else if(!this.Lb)return!1;return this.Lb?b:!0};t.prototype.Rp=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Fa[b].type===a.type)return!1;return!0};Rb=t;b.prototype.ba=function(){var a,b,d;
a=0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ba(),d.Ab&&(this.Le=!0)};b.prototype.Fq=function(){return!0};b.prototype.hj=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.X[a]=this.C[a].get();return Qa(this.ya.apply(this.b.mc,this.X),this.ni)};b.prototype.Eq=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.X[a]=this.C[a].get();a=this.ya.apply(this.ud?this.ud:this.type,this.X);this.type.Wc();return a};b.prototype.gj=function(){var a,b,d,c,e,h,f,g,k=this.type,q=k.N(),m=this.ab.Lb&&!this.trigger;
b=0;var n=k.gb,w=k.G,p=k.zc,x=this.Gb,t=-1<x,u=this.Le,D=this.C,B=this.X,F=this.ni,M=this.ya,C;if(u)for(b=0,e=D.length;b<e;++b)h=D[b],h.Ab||(B[b]=h.get(0));else for(b=0,e=D.length;b<e;++b)B[b]=D[b].get(0);if(q.Y){P(q.c);P(q.F);C=k.c;a=0;for(c=C.length;a<c;++a){g=C[a];if(u)for(b=0,e=D.length;b<e;++b)h=D[b],h.Ab&&(B[b]=h.get(a));t?(b=0,w&&(b=g.type.ge[p]),b=M.apply(g.A[x+b],B)):b=M.apply(g,B);(f=Qa(b,F))?q.c.push(g):m&&q.F.push(g)}k.finish&&k.finish(!0);q.Y=!1;k.Wc();return q.gi()}d=0;C=(f=m&&!this.ab.Rp(this))?
q.F:q.c;var A=!1;a=0;for(c=C.length;a<c;++a){g=C[a];if(u)for(b=0,e=D.length;b<e;++b)h=D[b],h.Ab&&(B[b]=h.get(a));t?(b=0,w&&(b=g.type.ge[p]),b=M.apply(g.A[x+b],B)):b=M.apply(g,B);if(Qa(b,F))if(A=!0,f){if(q.c.push(g),n)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.N().c.push(h)}else{C[d]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.N().c[d]=h;d++}else if(f){C[d]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.N().F[d]=h;d++}else if(m&&(q.F.push(g),
n))for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.N().F.push(h)}xa(C,d);if(n)for(w=k.Ua,a=0,c=w.length;a<c;a++)g=w[a].N(),f?xa(g.F,d):xa(g.c,d);d=A;if(f&&!A)for(a=0,c=q.c.length;a<c;a++){g=q.c[a];if(u)for(b=0,e=D.length;b<e;b++)h=D[b],h.Ab&&(B[b]=h.get(a));b=t?M.apply(g.A[x],B):M.apply(g,B);if(Qa(b,F)){A=!0;break}}k.finish&&k.finish(d||m);return m?A:q.gi()};Nb=b;c.prototype.ba=function(){var a,b,d;a=0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ba(),d.Ab&&(this.Le=!0)};c.prototype.hj=function(){var a=
this.b,b,d,e=this.C,c=this.X;b=0;for(d=e.length;b<d;++b)c[b]=e[b].get();return this.ya.apply(a.mc,c)};c.prototype.gj=function(){var a=this.type,b=this.Gb,d=a.zc,e=this.Le,c=this.C,h=this.X,f=this.ya,g=a.N().Ib(),a=a.G,k=-1<b,q,m,n,w,p,x;if(e)for(m=0,w=c.length;m<w;++m)p=c[m],p.Ab||(h[m]=p.get(0));else for(m=0,w=c.length;m<w;++m)h[m]=c[m].get(0);q=0;for(n=g.length;q<n;++q){x=g[q];if(e)for(m=0,w=c.length;m<w;++m)p=c[m],p.Ab&&(h[m]=p.get(q));k?(m=0,a&&(m=x.type.ge[d]),f.apply(x.A[b+m],h)):f.apply(x,
h)}return!1};Ob=c;var x=[],q=-1;a.prototype.ba=function(){var a,b;if(11===this.type)this.Ed=this.b.yk(this.Wf,this.ab.parent);else if(13===this.type)for(a=0,b=this.Ud.length;a<b;a++)this.Ud[a].ba();this.cc&&this.cc.ba()};a.prototype.bq=function(a){this.Ab||!a||a.fa.ah||(this.Ab=!0)};a.prototype.hm=function(){this.Ab=!0};a.prototype.vp=function(a){this.Mc=a||0;a=h();this.cc.get(a);q--;return a.data};a.prototype.wp=function(a){this.Mc=a||0;a=h();this.cc.get(a);q--;return G(a.data)?a.data:""};a.prototype.Cp=
function(){return this.object};a.prototype.tp=function(){return this.hk};a.prototype.Ap=function(a){this.Mc=a||0;a=h();this.cc.get(a);q--;return a.pa()?this.b.bf(a.data):this.b.bi(a.data)};a.prototype.Bp=function(){return this.qa};a.prototype.zp=function(){return this.key};a.prototype.yp=function(){return this.index};a.prototype.xp=function(a){a=a||0;var b=this.ub.type,d=null,d=b.N(),c=d.Ib();if(c.length)d=c[a%c.length].type;else if(d.F.length)d=d.F[a%d.F.length].type;else if(b.c.length)d=b.c[a%b.c.length].type;
else return 0;return this.index+d.lg[b.zc]};a.prototype.up=function(){return this.Ed};a.prototype.sp=function(){return this.sk};a.prototype.Dp=function(){var a,b;a=0;for(b=this.Ud.length;a<b;a++)this.Vf[a]=this.Ud[a].get();return this.Vf};Pb=a;e.prototype.ba=function(){this.ca=n(this.ca)};e.prototype.Zg=function(a){var b=this.b.wk();this.parent&&!this.of&&b?(this.Pd>=b.length&&(b.length=this.Pd+1),b[this.Pd]=a):this.data=a};e.prototype.Ck=function(){var a=this.b.wk();return!this.parent||this.of||
!a||this.wg?this.data:this.Pd>=a.length||"undefined"===typeof a[this.Pd]?this.ji:a[this.Pd]};e.prototype.na=function(){!this.parent||this.of||this.wg||this.Zg(this.ji)};Jb=e;f.prototype.toString=function(){return"include:"+this.hf.toString()};f.prototype.ba=function(){this.hf=this.b.Qh[this.Ip];this.sheet.Gk.add(this);this.ca=n(this.ca);for(var a=this.parent;a;)a.group&&a.dg.push(this),a=a.parent;this.Fm()};f.prototype.na=function(){this.parent&&this.b.Hf(this.b.i);this.hf.hi||this.hf.na(!0);this.parent&&
this.b.xe(this.b.i)};f.prototype.Fm=function(){for(var a=this.parent;a;){if(a.group&&!a.ke){this.$a=!1;return}a=a.parent}this.$a=!0};Sb=f;d.prototype.reset=function(a){this.mb=a;this.jb=this.Ta=0;P(this.rm);this.Oh=this.Ld=!1};Ib=d})();
(function(){function k(g,b){this.ub=g;this.b=g.b;this.type=b[0];this.get=[this.No,this.Jo,this.Wo,this.Zo,this.yo,this.Xo,this.Ro,this.Go,this.Qo,this.Vo,this.zo,this.Uo,this.Ho,this.So,this.Oo,this.Po,this.Ko,this.Lo,this.Fo,this.Yo,this.To,this.Mo,this.Eo,this.Io][this.type];var c=null;this.Gc=this.C=this.X=this.ya=this.ih=this.second=this.first=this.value=null;this.Gb=-1;this.Jb=null;this.Im=-1;this.Ed=this.Wf=null;this.Ae=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new S(g,b[1]);break;case 18:this.first=new S(g,b[1]);this.second=new S(g,b[2]);this.ih=new S(g,b[3]);break;case 19:this.ya=this.b.Tc(b[1]);this.ya!==W.prototype.nb.random&&this.ya!==W.prototype.nb.Nn||this.ub.hm();this.X=[];this.C=[];3===b.length?(c=b[2],this.X.length=c.length+1):this.X.length=1;break;case 20:this.Gc=this.b.i[b[1]];this.Gb=-1;this.ya=this.b.Tc(b[2]);this.Ae=b[3];cc&&this.ya===cc.prototype.nb.Mm&&this.ub.hm();b[4]?this.Jb=new S(g,b[4]):this.Jb=null;this.X=[];this.C=[];6===b.length?
(c=b[5],this.X.length=c.length+1):this.X.length=1;break;case 21:this.Gc=this.b.i[b[1]];this.Ae=b[2];b[3]?this.Jb=new S(g,b[3]):this.Jb=null;this.Im=b[4];break;case 22:this.Gc=this.b.i[b[1]];this.Gc.qg(b[2]);this.Gb=this.Gc.Xh(b[2]);this.ya=this.b.Tc(b[3]);this.Ae=b[4];b[5]?this.Jb=new S(g,b[5]):this.Jb=null;this.X=[];this.C=[];7===b.length?(c=b[6],this.X.length=c.length+1):this.X.length=1;break;case 23:this.Wf=b[1],this.Ed=null}this.ub.bq(this.Gc);4<=this.type&&17>=this.type&&(this.first=new S(g,
b[1]),this.second=new S(g,b[2]));if(c){var h,a;h=0;for(a=c.length;h<a;h++)this.C.push(new S(g,c[h]))}}function m(){++t;u.length===t&&u.push(new Qb);return u[t]}function n(g,b,c){var h,a;h=0;for(a=g.length;h<a;++h)g[h].get(c),b[h+1]=c.data}function p(g,b){this.type=g||U.Yd;this.data=b||0;this.Qd=null;this.type==U.Yd&&(this.data=Math.floor(this.data))}k.prototype.ba=function(){23===this.type&&(this.Ed=this.ub.b.yk(this.Wf,this.ub.ab.parent));this.first&&this.first.ba();this.second&&this.second.ba();
this.ih&&this.ih.ba();this.Jb&&this.Jb.ba();if(this.C){var g,b;g=0;for(b=this.C.length;g<b;g++)this.C[g].ba()}};var u=[],t=-1;k.prototype.Yo=function(g){var b=this.C,c=this.X;c[0]=g;g=m();n(b,c,g);--t;this.ya.apply(this.b.mc,c)};k.prototype.To=function(g){var b=this.Gc,c=this.X,h=this.C,a=this.Jb,e=this.ya,f=this.ub.Mc,d=b.N(),k=d.Ib();if(!k.length)if(d.F.length)k=d.F;else{this.Ae?g.Ba(""):g.O(0);return}c[0]=g;g.Qd=b;g=m();n(h,c,g);a&&(a.get(g),g.pa()&&(f=g.data,k=b.c));--t;b=k.length;if(f>=b||f<=
-b)f%=b;0>f&&(f+=b);e.apply(k[f],c)};k.prototype.Eo=function(g){var b=this.Gc,c=this.X,h=this.C,a=this.Jb,e=this.Gb,f=this.ya,d=this.ub.Mc,k=b.N(),p=k.Ib();if(!p.length)if(k.F.length)p=k.F;else{this.Ae?g.Ba(""):g.O(0);return}c[0]=g;g.Qd=b;g=m();n(h,c,g);a&&(a.get(g),g.pa()&&(d=g.data,p=b.c));--t;h=p.length;if(d>=h||d<=-h)d%=h;0>d&&(d+=h);d=p[d];p=0;b.G&&(p=d.type.ge[b.zc]);f.apply(d.A[e+p],c)};k.prototype.Mo=function(g){var b=this.Jb,c=this.Gc,h=this.Im,a=this.ub.Mc,e=c.N(),f=e.Ib();if(!f.length)if(e.F.length)f=
e.F;else{this.Ae?g.Ba(""):g.O(0);return}if(b){e=m();b.get(e);if(e.pa()){a=e.data;f=c.c;0!==f.length&&(a%=f.length,0>a&&(a+=f.length));a=c.ai(a);c=a.ha[h];G(c)?g.Ba(c):g.n(c);--t;return}--t}b=f.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=f[a];f=0;c.G&&(f=a.type.lg[c.zc]);c=a.ha[h+f];G(c)?g.Ba(c):g.n(c)};k.prototype.No=function(g){g.type=U.Yd;g.data=this.value};k.prototype.Jo=function(g){g.type=U.Xd;g.data=this.value};k.prototype.Wo=function(g){g.type=U.String;g.data=this.value};k.prototype.Zo=function(g){this.first.get(g);
g.pa()&&(g.data=-g.data)};k.prototype.yo=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data+=b.data,b.ne()&&g.ue());--t};k.prototype.Xo=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data-=b.data,b.ne()&&g.ue());--t};k.prototype.Ro=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data*=b.data,b.ne()&&g.ue());--t};k.prototype.Go=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data/=
b.data,g.ue());--t};k.prototype.Qo=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data%=b.data,b.ne()&&g.ue());--t};k.prototype.Vo=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data=Math.pow(g.data,b.data),b.ne()&&g.ue());--t};k.prototype.zo=function(g){this.first.get(g);var b=m();this.second.get(b);b.pe()||g.pe()?this.Bo(g,b):this.Ao(g,b);--t};k.prototype.Bo=function(g,b){g.pe()&&b.pe()?this.Do(g,b):this.Co(g,b)};k.prototype.Do=function(g,
b){g.data+=b.data};k.prototype.Co=function(g,b){g.pe()?g.data+=(Math.round(1E10*b.data)/1E10).toString():g.Ba(g.data.toString()+b.data)};k.prototype.Ao=function(g,b){g.O(g.data&&b.data?1:0)};k.prototype.Uo=function(g){this.first.get(g);var b=m();this.second.get(b);g.pa()&&b.pa()&&(g.data||b.data?g.O(1):g.O(0));--t};k.prototype.Fo=function(g){this.first.get(g);g.data?this.second.get(g):this.ih.get(g)};k.prototype.Ho=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data===b.data?1:0);
--t};k.prototype.So=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data!==b.data?1:0);--t};k.prototype.Oo=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data<b.data?1:0);--t};k.prototype.Po=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data<=b.data?1:0);--t};k.prototype.Ko=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data>b.data?1:0);--t};k.prototype.Lo=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data>=
b.data?1:0);--t};k.prototype.Io=function(g){var b=this.Ed.Ck();ka(b)?g.n(b):g.Ba(b)};S=k;p.prototype.ne=function(){return this.type===U.Xd};p.prototype.pa=function(){return this.type===U.Yd||this.type===U.Xd};p.prototype.pe=function(){return this.type===U.String};p.prototype.ue=function(){this.ne()||(this.pe()&&(this.data=parseFloat(this.data)),this.type=U.Xd)};p.prototype.O=function(g){this.type=U.Yd;this.data=Math.floor(g)};p.prototype.n=function(g){this.type=U.Xd;this.data=g};p.prototype.Ba=function(g){this.type=
U.String;this.data=g};p.prototype.im=function(g){ka(g)?(this.type=U.Xd,this.data=g):G(g)?(this.type=U.String,this.data=g.toString()):(this.type=U.Yd,this.data=0)};Qb=p;U={Yd:0,Xd:1,String:2}})();function W(k){this.b=k;this.Za=[]}
W.prototype.lc=function(){var k={},m,n,p,u,t,g,b,c;k.waits=[];var h=k.waits,a;m=0;for(n=this.Za.length;m<n;m++){g=this.Za[m];a={t:g.time,st:g.Kq,s:g.mm,ev:g.Xe.D,sm:[],sols:{}};g.Xe.Cb[g.jb]&&(a.act=g.Xe.Cb[g.jb].D);p=0;for(u=g.ca.length;p<u;p++)a.sm.push(g.ca[p].D);for(t in g.Ya)if(g.Ya.hasOwnProperty(t)){b=this.b.i[parseInt(t,10)];c={sa:g.Ya[t].Zl,insts:[]};p=0;for(u=g.Ya[t].Hd.length;p<u;p++)c.insts.push(g.Ya[t].Hd[p].uid);a.sols[b.D.toString()]=c}h.push(a)}return k};
W.prototype.hd=function(k){k=k.waits;var m,n,p,u,t,g,b,c,h,a,e;P(this.Za);m=0;for(n=k.length;m<n;m++)if(g=k[m],c=this.b.$j[g.ev.toString()]){h=-1;p=0;for(u=c.Cb.length;p<u;p++)if(c.Cb[p].D===g.act){h=p;break}if(-1!==h){b={Ya:{},ca:[],kk:!1};b.time=g.t;b.Kq=g.st||"";b.mm=!!g.s;b.Xe=c;b.jb=h;p=0;for(u=g.sm.length;p<u;p++)(c=this.b.sg(g.sm[p]))&&b.ca.push(c);for(t in g.sols)if(g.sols.hasOwnProperty(t)&&(c=this.b.sg(parseInt(t,10)))){h=g.sols[t];a={Zl:h.sa,Hd:[]};p=0;for(u=h.insts.length;p<u;p++)(e=this.b.Bk(h.insts[p]))&&
a.Hd.push(e);b.Ya[c.index.toString()]=a}this.Za.push(b)}}};
(function(){function k(){}function m(){}function n(){}var p=W.prototype;k.prototype.Cj=function(){return!0};k.prototype.gn=function(){return!0};k.prototype.Pm=function(g,b,c){return Tb(g.Ck(),b,c)};k.prototype.Vm=function(g){return(g=this.b.ff[g.toLowerCase()])&&g.ke};k.prototype.Qm=function(){var g=this.b.Oa();return g.Oh?!1:!g.Ld};k.prototype.Dj=function(){return!0};k.prototype.$m=function(){return!0};k.prototype.rh=function(){return!0};k.prototype.Hj=function(){return!0};k.prototype.hn=function(){return!0};
k.prototype.$f=function(){return!0};k.prototype.Lm=function(g,b,c){return Ma(Q(g),Q(c))<=Q(b)};k.prototype.Um=function(g,b){return Oa(Q(g),Q(b))};k.prototype.Tm=function(g,b,c){g=Ka(g);b=Ka(b);c=Ka(c);return Oa(c,b)?Oa(g,b)&&!Oa(g,c):!(!Oa(g,b)&&Oa(g,c))};p.d=new k;m.prototype.Rm=function(g){this.b.pf||this.b.Qe||(this.b.Qe=g)};m.prototype.wn=function(g,b){0===g.Jm?ka(b)?g.Zg(b):g.Zg(parseFloat(b)):1===g.Jm&&g.Zg(b.toString())};var u=[],t=[];p.Db=new m;n.prototype["int"]=function(g,b){G(b)?(g.O(parseInt(b,
10)),isNaN(g.data)&&(g.data=0)):g.O(b)};n.prototype["float"]=function(g,b){G(b)?(g.n(parseFloat(b)),isNaN(g.data)&&(g.data=0)):g.n(b)};n.prototype.random=function(g,b,c){void 0===c?g.n(Math.random()*b):g.n(Math.random()*(c-b)+b)};n.prototype.sqrt=function(g,b){g.n(Math.sqrt(b))};n.prototype.abs=function(g,b){g.n(Math.abs(b))};n.prototype.round=function(g,b){g.O(Math.round(b))};n.prototype.floor=function(g,b){g.O(Math.floor(b))};n.prototype.ceil=function(g,b){g.O(Math.ceil(b))};n.prototype.sin=function(g,
b){g.n(Math.sin(Q(b)))};n.prototype.cos=function(g,b){g.n(Math.cos(Q(b)))};n.prototype.tan=function(g,b){g.n(Math.tan(Q(b)))};n.prototype.asin=function(g,b){g.n(Da(Math.asin(b)))};n.prototype.acos=function(g,b){g.n(Da(Math.acos(b)))};n.prototype.atan=function(g,b){g.n(Da(Math.atan(b)))};n.prototype.exp=function(g,b){g.n(Math.exp(b))};n.prototype.log10=function(g,b){g.n(Math.log(b)/Math.LN10)};n.prototype.max=function(g){var b=arguments[1];"number"!==typeof b&&(b=0);var c,h,a;c=2;for(h=arguments.length;c<
h;c++)a=arguments[c],"number"===typeof a&&b<a&&(b=a);g.n(b)};n.prototype.min=function(g){var b=arguments[1];"number"!==typeof b&&(b=0);var c,h,a;c=2;for(h=arguments.length;c<h;c++)a=arguments[c],"number"===typeof a&&b>a&&(b=a);g.n(b)};n.prototype.fe=function(g){g.n(this.b.fe)};n.prototype.Tf=function(g){g.n(this.b.Tf)};n.prototype.time=function(g){g.n(this.b.rb.aa)};n.prototype.Sf=function(g){g.O(this.b.Sf)};n.prototype.Lg=function(g){g.O(this.b.Lg)};n.prototype.Vh=function(g){g.O(this.b.Vh)};n.prototype.j=
function(g,b,c,h,a){g.n(Da(La(b,c,h,a)))};n.prototype.left=function(g,b,c){g.Ba(G(b)?b.substr(0,c):"")};n.prototype.right=function(g,b,c){g.Ba(G(b)?b.substr(b.length-c):"")};n.prototype.replace=function(g,b,c,h){G(b)&&G(c)&&G(h)?g.Ba(b.replace(new RegExp(Ya(c),"gi"),h)):g.Ba(G(b)?b:"")};n.prototype.trim=function(g,b){g.Ba(G(b)?b.trim():"")};n.prototype.Nn=function(g){var b=K(Math.random()*(arguments.length-1));g.im(arguments[b+1])};n.prototype.Jh=function(g){g.n(this.b.Jh/1E3)};n.prototype.Eg=function(g){g.n(this.b.Eg)};
p.nb=new n;p.Bq=function(){var g,b,c,h,a,e,f=this.b.Oa();g=0;for(c=this.Za.length;g<c;g++){h=this.Za[g];if(-1===h.time){if(!h.mm)continue}else if(h.time>this.b.rb.aa)continue;f.mb=h.Xe;f.jb=h.jb;f.Ta=0;for(b in h.Ya)h.Ya.hasOwnProperty(b)&&(a=this.b.i[parseInt(b,10)].N(),e=h.Ya[b],a.Y=e.Zl,ya(a.c,e.Hd),a=e,P(a.Hd),t.push(a));h.Xe.Aq();this.b.Hh(h.ca);h.kk=!0}b=g=0;for(c=this.Za.length;g<c;g++)h=this.Za[g],this.Za[b]=h,h.kk?(Ta(h.Ya),P(h.ca),u.push(h)):b++;xa(this.Za,b)}})();
(function(){hb=function(k,n){var p=k[1],u=k[3],t=k[4],g=k[5],b=k[6],c=k[7],h=k[8];n.d||(n.d={});n.Db||(n.Db={});n.nb||(n.nb={});var a=n.d,e=n.Db,f=n.nb;u&&(a.mr=function(a,b){return Tb(this.x,a,b)},a.nr=function(a,b){return Tb(this.y,a,b)},a.ur=function(){var a=this.e;this.Ca();var b=this.Ea;return!(b.right<a.K||b.bottom<a.L||b.left>a.R||b.top>a.Q)},a.wr=function(){this.Ca();var a=this.Ea,b=this.b.J;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.Jr=function(a,b,c){var e=this.N(),
h=e.Ib();if(!h.length)return!1;var f=h[0],g=f,k=Pa(f.x,f.y,b,c),m,n,p;m=1;for(n=h.length;m<n;m++)if(f=h[m],p=Pa(f.x,f.y,b,c),0===a&&p<k||1===a&&p>k)k=p,g=f;e.Ff(g);return!0},e.ds=function(a){this.x!==a&&(this.x=a,this.ta())},e.es=function(a){this.y!==a&&(this.y=a,this.ta())},e.Yr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ta()},e.Zr=function(a,b){var c=a.op(this);if(c){var e;c.$h?(e=c.$h(b,!0),c=c.$h(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.ta()}},
e.Cr=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.ta())},e.Br=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.ta())},f.xn=function(a){a.n(this.x)},f.yn=function(a){a.n(this.y)},f.fe=function(a){a.n(this.b.xk(this))});t&&(a.lr=function(a,b){return Tb(this.width,a,b)},a.ir=function(a,b){return Tb(this.height,a,b)},e.cs=function(a){this.width!==a&&(this.width=a,this.ta())},e.Vr=function(a){this.height!==a&&(this.height=a,this.ta())},e.$r=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ta()},f.ks=function(a){a.n(this.width)},f.qr=function(a){a.n(this.height)},f.fr=function(a){this.Ca();a.n(this.Ea.left)},f.hr=function(a){this.Ca();a.n(this.Ea.top)},f.gr=function(a){this.Ca();a.n(this.Ea.right)},f.er=function(a){this.Ca();a.n(this.Ea.bottom)});g&&(a.Lm=function(a,b){return Ma(this.j,Q(b))<=Q(a)},a.Um=function(a){return Oa(this.j,Q(a))},a.Tm=function(a,b){var c=Ka(a),e=Ka(b),h=Ia(this.j);return Oa(e,
c)?Oa(h,c)&&!Oa(h,e):!(!Oa(h,c)&&Oa(h,e))},e.Rr=function(a){a=Q(Ea(a));isNaN(a)||this.j===a||(this.j=a,this.ta())},e.Nr=function(a){0===a||isNaN(a)||(this.j+=Q(a),this.j=Ia(this.j),this.ta())},e.Or=function(a){0===a||isNaN(a)||(this.j-=Q(a),this.j=Ia(this.j),this.ta())},e.Pr=function(a,b){var c=Na(this.j,Q(b),Q(a));isNaN(c)||this.j===c||(this.j=c,this.ta())},e.Qr=function(a,b,c){a=Na(this.j,Math.atan2(c-this.y,b-this.x),Q(a));isNaN(a)||this.j===a||(this.j=a,this.ta())},e.as=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.j===c||(this.j=c,this.ta())},f.dr=function(a){a.n(Ja(this.j))});p||(a.jr=function(a,b,c){return Tb(this.ha[a],b,c)},a.sr=function(a){return this.ha[a]},a.Kr=function(a,b){var c=this.N(),e=c.Ib();if(!e.length)return!1;var h=e[0],f=h,g=h.ha[b],k,m,n;k=1;for(m=e.length;k<m;k++)if(h=e[k],n=h.ha[b],0===a&&n<g||1===a&&n>g)g=n,f=h;c.Ff(f);return!0},a.Ir=function(a){var b,c,e,h,f;if(this.b.ip().ni){f=this.N();if(f.Y)for(f.Y=!1,P(f.c),P(f.F),e=this.c,b=0,c=e.length;b<c;b++)h=
e[b],h.uid===a?f.F.push(h):f.c.push(h);else{e=b=0;for(c=f.c.length;b<c;b++)h=f.c[b],f.c[e]=h,h.uid===a?f.F.push(h):e++;xa(f.c,e)}this.Wc();return!!f.c.length}h=this.b.Bk(a);if(!h)return!1;f=this.N();if(!f.Y&&-1===f.c.indexOf(h))return!1;if(this.G)for(a=h.type.T,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Ff(h),this.Wc(),!0}else if(h.type===this)return f.Ff(h),this.Wc(),!0;return!1},a.Aj=function(){return!0},a.an=function(){return!0},e.Wr=function(a,b){var c=this.ha;ka(c[a])?c[a]=ka(b)?b:parseFloat(b):
G(c[a])&&(c[a]=G(b)?b:b.toString())},e.cr=function(a,b){var c=this.ha;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):G(c[a])&&(c[a]=G(b)?c[a]+b:c[a]+b.toString())},e.gs=function(a,b){var c=this.ha;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},e.Sr=function(a,b){this.ha[a]=b?1:0},e.hs=function(a){this.ha[a]=1-this.ha[a]},e.pr=function(){this.b.Wd(this)},e.Xm||(e.Xm=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.Dg(this,b,!0);this.rd&&this.rd();if(this.A)for(a=0,b=this.A.length;a<
b;++a)c=this.A[a],c.rd&&c.rd()}),f.or=function(a){var b=a.Qd.c.length,c,e,h;c=0;for(e=this.b.Zb.length;c<e;c++)h=this.b.Zb[c],a.Qd.G?0<=h.type.T.indexOf(a.Qd)&&b++:h.type===a.Qd&&b++;a.O(b)},f.Mr=function(a){a.O(a.Qd.N().Ib().length)},f.js=function(a){a.O(this.uid)},f.rr=function(a){a.O(this.df())},f.zj||(f.zj=function(a){a.Ba(JSON.stringify(this.b.ij(this,!0)))}));b&&(a.xr=function(){return this.visible},e.bs=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.I=!0)},a.kr=function(a,b){return Tb(db(100*
this.opacity),a,b)},e.Xr=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.I=!0)},f.Opacity=function(a){a.n(db(100*this.opacity))});c&&(a.tr=function(a){return a?this.e===a:!1},a.Lr=function(a){var b=this.N(),c=b.Ib();if(!c.length)return!1;var e=c[0],h=e,f,g;f=1;for(g=c.length;f<g;f++)if(e=c[f],0===a){if(e.e.index>h.e.index||e.e.index===h.e.index&&e.ec()>h.ec())h=e}else if(e.e.index<h.e.index||e.e.index===h.e.index&&e.ec()<h.ec())h=e;b.Ff(h);return!0},e.Fr=function(){var a=
this.e,b=a.c;b.length&&b[b.length-1]===this||(a.ze(this,!1),a.Ne(this,!1),this.b.I=!0)},e.Dr=function(){var a=this.e,b=a.c;b.length&&b[0]===this||(a.ze(this,!1),a.tq(this),this.b.I=!0)},e.Er=function(a){a&&a!=this.e&&(this.e.ze(this,!0),this.e=a,a.Ne(this,!0),this.b.I=!0)},e.ms=function(a,b){var c=0===a;if(b){var e=b.jp(this);e&&e.uid!==this.uid&&(this.e.index!==e.e.index&&(this.e.ze(this,!0),this.e=e.e,e.e.Ne(this,!0)),this.e.cq(this,e,c),this.b.I=!0)}},f.Ar=function(a){a.O(this.e.xl)},f.yr=function(a){a.Ba(this.e.name)},
f.ls=function(a){a.O(this.ec())});h&&(e.Tr=function(a,b){if(this.b.m){var c=this.type.Zh(b);if(!(0>c)){var e=1===a;this.Uc[c]!==e&&(this.Uc[c]=e,this.Qb(),this.b.I=!0)}}},e.Ur=function(a,b,c){if(this.b.m){var e=this.type.Zh(a);0>e||(a=this.type.r[e],e=this.W[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.m.rp(a.ga,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.$a&&(this.b.I=!0))))}})};Ab=function(){this.Ch=this.wh=!0;this.type.Rj=!0;this.b.I=!0;var k,n,p=this.xh;k=0;for(n=p.length;k<n;++k)p[k](this);this.e.ib&&
this.Ca()};Bb=function(k){k&&this.xh.push(k)};Db=function(){if(this.wh){var k=this.Ea,n=this.ag;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.Va*this.width,-this.Wa*this.height);this.j?(k.offset(-this.x,-this.y),n.jm(k,this.j),n.offset(this.x,this.y),n.ak(k)):n.$g(k);k.normalize();this.wh=!1;this.Vq()}};var k=new O(0,0,0,0);Eb=function(){if(this.e.ib){var m=this.e.Aa,n=this.Ea;k.set(m.La(n.left),m.Ma(n.top),m.La(n.right),m.Ma(n.bottom));this.Pa.We(k)||(this.Pa.right<this.Pa.left?
m.update(this,null,k):m.update(this,this.Pa,k),this.Pa.Se(k),this.e.Ob=!0)}};Fb=function(){if(this.Ch&&this.Re){this.Ca();var m=this.type.gk,n=this.Ea;k.set(m.La(n.left),m.Ma(n.top),m.La(n.right),m.Ma(n.bottom));this.$c.We(k)||(this.$c.right<this.$c.left?m.update(this,null,k):m.update(this,this.$c,k),this.$c.Se(k),this.Ch=!1)}};Cb=function(k,n){return this.Ea.kb(k,n)&&this.ag.kb(k,n)?this.wm?this.Is(k,n):this.Yb&&!this.Yb.Up()?(this.Yb.Ln(this.width,this.height,this.j),this.Yb.kb(k-this.x,n-this.y)):
!0:!1};wb=function(){this.type.mh();return this.Gd};Gb=function(){this.e.wj();return this.Sb};Hb=function(){P(this.H);var k,n,p,u=!0;k=0;for(n=this.Uc.length;k<n;k++)this.Uc[k]&&(p=this.type.r[k],this.H.push(p),p.Mb||(u=!1));this.Hm=!!this.H.length;this.Lc=u};xb=function(){return"Inst"+this.Tl};kb=function(k){if(k&&k.gb&&k.type!=this){var n,p,u;n=0;for(p=k.siblings.length;n<p;n++)if(u=k.siblings[n],u.type==this)return u}k=this.N().Ib();return k.length?k[0]:null};lb=function(k){var n=this.N().Ib();
return n.length?n[k.df()%n.length]:null};jb=function(){if(this.De&&!this.G){var k,n;k=0;for(n=this.c.length;k<n;k++)this.c[k].Gd=k;var p=k,u=this.b.Zb;k=0;for(n=u.length;k<n;++k)u[k].type===this&&(u[k].Gd=p++);this.De=!1}};ub=function(k){if(k<this.c.length)return this.c[k];k-=this.c.length;var n=this.b.Zb,p,u;p=0;for(u=n.length;p<u;++p)if(n[p].type===this){if(0===k)return n[p];--k}return null};mb=function(){return this.Nc[this.$b]};nb=function(){this.$b++;this.$b===this.Nc.length?this.Nc.push(new ib(this)):
(this.Nc[this.$b].Y=!0,P(this.Nc[this.$b].F))};ob=function(){this.$b++;this.$b===this.Nc.length&&this.Nc.push(new ib(this));var k=this.Nc[this.$b],n=this.Nc[this.$b-1];n.Y?k.Y=!0:(k.Y=!1,ya(k.c,n.c));P(k.F)};pb=function(){this.$b--};qb=function(k){var n,p,u,t,g,b=0;if(!this.G)for(n=0,p=this.T.length;n<p;n++)for(g=this.T[n],u=0,t=g.U.length;u<t;u++){if(k===g.U[u].name)return this.S.lastBehIndex=b,g.U[u];b++}n=0;for(p=this.U.length;n<p;n++){if(k===this.U[n].name)return this.S.lastBehIndex=b,this.U[n];
b++}return null};rb=function(k){return this.qg(k)?this.S.lastBehIndex:-1};sb=function(k){var n,p;n=0;for(p=this.r.length;n<p;n++)if(this.r[n].name===k)return n;return-1};tb=function(){if(this.gb&&!this.G){var k,n,p,u,t,g,b;this.mh();g=this.N();var c=g.Y,h=(k=this.b.Oa())&&k.mb&&k.mb.Lb;k=0;for(n=this.Ua.length;k<n;k++)if(t=this.Ua[k],t!==this&&(t.mh(),b=t.N(),b.Y=c,!c)){P(b.c);p=0;for(u=g.c.length;p<u;++p)b.c[p]=t.ai(g.c[p].Gd);if(h)for(P(b.F),p=0,u=g.F.length;p<u;++p)b.F[p]=t.ai(g.F[p].Gd)}}};vb=
function(){return"Type"+this.D};Tb=function(k,n,p){if("undefined"===typeof k||"undefined"===typeof p)return!1;switch(n){case 0:return k===p;case 1:return k!==p;case 2:return k<p;case 3:return k<=p;case 4:return k>p;case 5:return k>=p;default:return!1}}})();var $b={};function X(k){this.b=k}
(function(){function k(){t&&g&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(c){b.jq(c)})}function m(){}function n(){}var p=X.prototype;p.Bb=function(b){this.fa=b;this.b=b.b};var u=p.Bb.prototype;u.ka=function(){};var t=!1,g=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var b=document.createElement("script");b.onload=function(){t=!0;k()};b.src="offlineClient.js";document.head.appendChild(b)}});var b=null;
u.Bl=function(){g=!0;k()};p.Ra=function(b){this.type=b;this.b=b.b};u=p.Ra.prototype;u.ka=function(){var c=this;window.addEventListener("resize",function(){c.b.trigger(X.prototype.d.pn,c)});b=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){c.b.trigger(X.prototype.d.ln,c)}),window.addEventListener("offline",function(){c.b.trigger(X.prototype.d.jn,c)}));this.b.Bc||(document.addEventListener("appMobi.device.update.available",function(){c.b.trigger(X.prototype.d.th,
c)}),document.addEventListener("backbutton",function(){c.b.trigger(X.prototype.d.Zf,c)}),document.addEventListener("menubutton",function(){c.b.trigger(X.prototype.d.Ej,c)}),document.addEventListener("searchbutton",function(){c.b.trigger(X.prototype.d.qn,c)}),document.addEventListener("tizenhwkey",function(b){var a;switch(b.keyName){case "back":a=c.b.trigger(X.prototype.d.Zf,c);!a&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(a=c.b.trigger(X.prototype.d.Ej,
c))||b.preventDefault()}}));this.b.xi&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(b){c.b.trigger(X.prototype.d.Zf,c)&&(b.handled=!0)}):this.b.wi&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!c.b.trigger(X.prototype.d.Zf,c)});this.b.Dn(function(b){b?c.b.trigger(X.prototype.d.mn,c):c.b.trigger(X.prototype.d.nn,c)});this.Bi="undefined"!==typeof window.is_scirra_arcade};u.jq=function(b){b=b.data.type;
"downloading-update"===b?this.b.trigger(X.prototype.d.tn,this):"update-ready"===b||"update-pending"===b?this.b.trigger(X.prototype.d.th,this):"offline-ready"===b&&this.b.trigger(X.prototype.d.kn,this)};m.prototype.ln=function(){return!0};m.prototype.jn=function(){return!0};m.prototype.th=function(){return!0};m.prototype.nn=function(){return!0};m.prototype.mn=function(){return!0};m.prototype.pn=function(){return!0};m.prototype.Zf=function(){return!0};m.prototype.Ej=function(){return!0};m.prototype.qn=
function(){return!0};m.prototype.tn=function(){return!0};m.prototype.th=function(){return!0};m.prototype.kn=function(){return!0};p.d=new m;n.prototype.Sm=function(b,h){this.b.eb?CocoonJS.App.openURL(b):this.b.qb?ejecta.openURL(b):this.b.wi?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(b)):navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(b,{openExternal:!0}):this.b.fb?window.open(b,"_system"):this.Bi||this.b.oa||(2!==h||this.Bi?1!==h||this.Bi?window.location=b:window.parent.location=
b:window.top.location=b)};p.Db=new n;p.nb=new function(){}})();function cc(k){this.b=k}
(function(){function k(){this.name="";this.Ug=0;this.Ef=[]}function m(){g++;g===t.length&&t.push(new k);return t[g]}function n(){}function p(){}var u=cc.prototype;u.Bb=function(b){this.fa=b;this.b=b.b};u.Bb.prototype.ka=function(){};u.Ra=function(b){this.type=b;this.b=b.b};var t=[],g=-1;u.Ra.prototype.ka=function(){var b=this;window.c2_callFunction=function(c,h){var a,e,f,d=m();d.name=c.toLowerCase();d.Ug=0;if(h)for(d.Ef.length=h.length,a=0,e=h.length;a<e;++a)f=h[a],d.Ef[a]="number"===typeof f||"string"===
typeof f?f:"boolean"===typeof f?f?1:0:0;else P(d.Ef);b.b.trigger(cc.prototype.d.Bj,b,d.name);g--;return d.Ug}};n.prototype.Bj=function(b){var c=0>g?null:t[g];return c?eb(b,c.name):!1};u.d=new n;u.Db=new function(){};p.prototype.Mm=function(b,c){var h=m();h.name=c.toLowerCase();h.Ug=0;P(h.Ef);var a,e;a=2;for(e=arguments.length;a<e;a++)h.Ef.push(arguments[a]);this.b.trigger(cc.prototype.d.Bj,this,h.name);g--;b.im(h.Ug)};u.nb=new p})();function bc(k){this.b=k}
(function(){function k(){if(0===this.Mh.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.Ce?a.drawImage(this.ua,this.ve,this.we,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.ua,0,0,this.width,this.height);this.Mh=b.toDataURL("image/png")}return this.Mh}function m(){}function n(){}var p=bc.prototype;p.Bb=function(b){this.fa=b;this.b=b.b};var u=p.Bb.prototype;u.ka=function(){if(!this.G){var b,a,c,f,d,g,m,q,l;this.Eb=
[];this.gf=!1;b=0;for(a=this.Sa.length;b<a;b++){d=this.Sa[b];m={};m.name=d[0];m.speed=d[1];m.loop=d[2];m.cj=d[3];m.dj=d[4];m.Ll=d[5];m.D=d[6];m.frames=[];c=0;for(f=d[7].length;c<f;c++)g=d[7][c],q={},q.tm=g[0],q.um=g[1],q.ve=g[2],q.we=g[3],q.width=g[4],q.height=g[5],q.duration=g[6],q.Va=g[7],q.Wa=g[8],q.ii=g[9],q.Qg=g[10],q.Ml=g[11],q.Ce=0!==q.width,q.Mh="",q.ss=k,l={left:0,top:0,right:1,bottom:1},q.kj=l,q.Qc=null,(l=this.b.ep(g[0]))?q.ua=l:(q.ua=new Image,q.ua.Qn=g[0],q.ua.Pn=g[1],q.ua.Kn=null,this.b.Zq(q.ua,
g[0])),m.frames.push(q),this.Eb.push(q);this.Sa[b]=m}}};u.Gm=function(){var b,a,c;b=0;for(a=this.c.length;b<a;b++)c=this.c[b],c.fg=c.wa.Qc};u.Cl=function(){if(!this.G){var b,a,c;b=0;for(a=this.Eb.length;b<a;++b)c=this.Eb[b],c.ua.Kn=null,c.Qc=null;this.gf=!1;this.Gm()}};u.Fl=function(){if(!this.G&&this.c.length){var b,a,c;b=0;for(a=this.Eb.length;b<a;++b)c=this.Eb[b],c.Qc=this.b.m.Xk(c.ua,this.b.ea,c.Ml);this.Gm()}};u.Yp=function(){if(!this.G&&!this.gf&&this.b.m){var b,a,c;b=0;for(a=this.Eb.length;b<
a;++b)c=this.Eb[b],c.Qc=this.b.m.Xk(c.ua,this.b.ea,c.Ml);this.gf=!0}};u.Dm=function(){if(!this.G&&!this.c.length&&this.gf){var b,a,c;b=0;for(a=this.Eb.length;b<a;++b)c=this.Eb[b],this.b.m.deleteTexture(c.Qc),c.Qc=null;this.gf=!1}};var t=[];u.Ql=function(b){var a,c,f;P(t);a=0;for(c=this.Eb.length;a<c;++a)f=this.Eb[a].ua,-1===t.indexOf(f)&&(b.drawImage(f,0,0),t.push(f))};p.Ra=function(b){this.type=b;this.b=b.b;b=this.type.Sa[0].frames[0].Qg;this.hc?this.Yb.Lf(b):this.Yb=new Za(b)};var g=p.Ra.prototype;
g.ka=function(){this.visible=0===this.Kc[0];this.Re=0!==this.Kc[3];this.P=this.vk(this.Kc[1])||this.type.Sa[0];this.k=this.Kc[2];0>this.k&&(this.k=0);this.k>=this.P.frames.length&&(this.k=this.P.frames.length-1);var b=this.P.frames[this.k];this.Yb.Lf(b.Qg);this.Va=b.Va;this.Wa=b.Wa;this.be=this.P.speed;this.ad=this.P.dj;1===this.type.Sa.length&&1===this.type.Sa[0].frames.length||0===this.be||this.b.Qq(this);this.hc?this.Tb.reset():this.Tb=new Xa;this.Ac=this.Tb.aa;this.td=!0;this.sc=0;this.sd=!0;
this.Gh=this.Pj="";this.Mn=0;this.Fh=-1;this.type.Yp();var a,c,f,d,g,k,q,b=0;for(a=this.type.Sa.length;b<a;b++)for(d=this.type.Sa[b],c=0,f=d.frames.length;c<f;c++)g=d.frames[c],0===g.width&&(g.width=g.ua.width,g.height=g.ua.height),g.Ce&&(q=g.ua,k=g.kj,k.left=g.ve/q.width,k.top=g.we/q.height,k.right=(g.ve+g.width)/q.width,k.bottom=(g.we+g.height)/q.height,0===g.ve&&0===g.we&&g.width===q.width&&g.height===q.height&&(g.Ce=!1));this.wa=this.P.frames[this.k];this.fg=this.wa.Qc};g.lc=function(){var b=
{a:this.P.D,f:this.k,cas:this.be,fs:this.Ac,ar:this.sc,at:this.Tb.aa,rt:this.ad};this.td||(b.ap=this.td);this.sd||(b.af=this.sd);return b};g.hd=function(b){var a=this.gp(b.a);a&&(this.P=a);this.k=b.f;0>this.k&&(this.k=0);this.k>=this.P.frames.length&&(this.k=this.P.frames.length-1);this.be=b.cas;this.Ac=b.fs;this.sc=b.ar;this.Tb.reset();this.Tb.aa=b.at;this.td=b.hasOwnProperty("ap")?b.ap:!0;this.sd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.ad=b.rt:this.ad=this.P.dj;this.wa=this.P.frames[this.k];
this.fg=this.wa.Qc;this.Yb.Lf(this.wa.Qg);this.Va=this.wa.Va;this.Wa=this.wa.Wa};g.vh=function(b){this.k=b?0:this.P.frames.length-1;this.td=!1;this.Pj=this.P.name;this.b.trigger(bc.prototype.d.Zm,this);this.b.trigger(bc.prototype.d.Ym,this);this.sc=0};g.Vj=function(){return this.Tb.aa};g.Fe=function(){this.Tb.add(this.b.xk(this));this.Gh.length&&this.Vn();0<=this.Fh&&this.Wn();var b=this.Tb.aa,a=this.P,c=a.frames[this.k],f=c.duration/this.be;this.td&&b>=this.Ac+f&&(this.sd?this.k++:this.k--,this.Ac+=
f,this.k>=a.frames.length&&(a.Ll?(this.sd=!1,this.k=a.frames.length-2):a.loop?this.k=this.ad:(this.sc++,this.sc>=a.cj?this.vh(!1):this.k=this.ad)),0>this.k&&(a.Ll?(this.k=1,this.sd=!0,a.loop||(this.sc++,this.sc>=a.cj&&this.vh(!0))):a.loop?this.k=this.ad:(this.sc++,this.sc>=a.cj?this.vh(!0):this.k=this.ad)),0>this.k?this.k=0:this.k>=a.frames.length&&(this.k=a.frames.length-1),b>this.Ac+a.frames[this.k].duration/this.be&&(this.Ac=b),b=a.frames[this.k],this.Zd(c,b),this.b.I=!0)};g.vk=function(b){var a,
c,f;a=0;for(c=this.type.Sa.length;a<c;a++)if(f=this.type.Sa[a],eb(f.name,b))return f;return null};g.gp=function(b){var a,c,f;a=0;for(c=this.type.Sa.length;a<c;a++)if(f=this.type.Sa[a],f.D===b)return f;return null};g.Vn=function(){var b=this.P.frames[this.k],a=this.vk(this.Gh);this.Gh="";!a||eb(a.name,this.P.name)&&this.td||(this.P=a,this.be=a.speed,this.ad=a.dj,0>this.k&&(this.k=0),this.k>=this.P.frames.length&&(this.k=this.P.frames.length-1),1===this.Mn&&(this.k=0),this.td=!0,this.Ac=this.Tb.aa,
this.sd=!0,this.Zd(b,this.P.frames[this.k]),this.b.I=!0)};g.Wn=function(){var b=this.P.frames[this.k],a=this.k;this.k=K(this.Fh);0>this.k&&(this.k=0);this.k>=this.P.frames.length&&(this.k=this.P.frames.length-1);a!==this.k&&(this.Zd(b,this.P.frames[this.k]),this.Ac=this.Tb.aa,this.b.I=!0);this.Fh=-1};g.Zd=function(b,a){var c=b.width,f=b.height,d=a.width,g=a.height;c!=d&&(this.width*=d/c);f!=g&&(this.height*=g/f);this.Va=a.Va;this.Wa=a.Wa;this.Yb.Lf(a.Qg);this.ta();this.wa=a;this.fg=a.Qc;c=0;for(f=
this.A.length;c<f;c++)d=this.A[c],d.kq&&d.kq(b,a);this.b.trigger(bc.prototype.d.Zd,this)};g.zd=function(b){b.globalAlpha=this.opacity;var a=this.wa,c=a.Ce,f=a.ua,d=this.x,g=this.y,k=this.width,q=this.height;if(0===this.j&&0<=k&&0<=q)d-=this.Va*k,g-=this.Wa*q,this.b.Rd&&(d=Math.round(d),g=Math.round(g)),c?b.drawImage(f,a.ve,a.we,a.width,a.height,d,g,k,q):b.drawImage(f,d,g,k,q);else{this.b.Rd&&(d=Math.round(d),g=Math.round(g));b.save();var l=0<k?1:-1,m=0<q?1:-1;b.translate(d,g);1===l&&1===m||b.scale(l,
m);b.rotate(this.j*l*m);d=0-this.Va*na(k);g=0-this.Wa*na(q);c?b.drawImage(f,a.ve,a.we,a.width,a.height,d,g,na(k),na(q)):b.drawImage(f,d,g,na(k),na(q));b.restore()}};g.ee=function(b){this.Hb(b)};g.Hb=function(b){b.xb(this.fg);b.Jf(this.opacity);var a=this.wa,c=this.ag;if(this.b.Rd){var f=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;a.Ce?b.Sd(c.nc+f,c.oc+d,c.qc+f,c.rc+d,c.Wb+f,c.Xb+d,c.Ub+f,c.Vb+d,a.kj):b.If(c.nc+f,c.oc+d,c.qc+f,c.rc+d,c.Wb+f,c.Xb+d,c.Ub+f,c.Vb+d)}else a.Ce?b.Sd(c.nc,c.oc,
c.qc,c.rc,c.Wb,c.Xb,c.Ub,c.Vb,a.kj):b.If(c.nc,c.oc,c.qc,c.rc,c.Wb,c.Xb,c.Ub,c.Vb)};g.lp=function(b){var a=this.wa,c,f;c=0;for(f=a.ii.length;c<f;c++)if(eb(b,a.ii[c][0]))return c;return-1};g.$h=function(b,a){var c=this.wa,f=c.ii,d;G(b)?d=this.lp(b):d=b-1;d=K(d);if(0>d||d>=f.length)return a?this.x:this.y;var g=(f[d][1]-c.Va)*this.width,f=f[d][2],f=(f-c.Wa)*this.height,c=Math.cos(this.j);d=Math.sin(this.j);var k=g*c-f*d,f=f*c+g*d,g=k+this.x,f=f+this.y;return a?g:f};var b=new ba,c=!1;new O(0,0,0,0);u.finish=
function(g){if(c){if(g){var a=this.b.Oa().mb.Lb;g=null.N();var e=b.qd(),f,d;if(g.Y){g.Y=!1;P(g.c);f=0;for(d=e.length;f<d;++f)g.c[f]=e[f];if(a)for(P(g.F),f=0,d=null.c.length;f<d;++f)e=null.c[f],b.contains(e)||g.F.push(e)}else if(a)for(a=g.c.length,f=0,d=e.length;f<d;++f)g.c[a+f]=e[f],Ba(g.F,e[f]);else ya(g.c,e);null.Wc()}b.clear();c=!1}};m.prototype.Ym=function(b){return eb(this.Pj,b)};m.prototype.Zm=function(){return!0};m.prototype.Zd=function(){return!0};p.d=new m;n.prototype.vn=function(b){this.va=
b;this.ae=bb(b);cb(this,b,this.b.g);this.b.I=!0};p.Db=new n;p.nb=new function(){}})();function Z(k){this.b=k}
(function(){function k(b){h=b.x;a=b.y;e=b.z}function m(a,b,c,d){var e;e=f.length?f.pop():new n;e.init(a,b,c,d);return e}function n(){this.Of=this.id=this.y=this.x=this.eh=this.dh=this.Ei=this.time=this.mj=0;this.Uf=this.kh=!1}function p(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function u(){}function t(){}var g=Z.prototype;g.Bb=function(a){this.fa=a;this.b=a.b};g.Bb.prototype.ka=
function(){};g.Ra=function(a){this.type=a;this.b=a.b;this.touches=[];this.Li=!1};var b=g.Ra.prototype,c={left:0,top:0};b.$e=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var h=0,a=0,e=0,f=[];n.prototype.init=function(a,b,c,d){var e=R();this.mj=this.Ei=this.time=e;this.dh=a;this.eh=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Of=d;this.Uf=this.kh=!1};n.prototype.update=function(a,b,c,d,e,f){this.Ei=this.time;this.time=
a;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Uf&&15<=Pa(this.dh,this.eh,this.x,this.y)&&(this.Uf=!0)};n.prototype.aq=function(a,b){!this.kh&&500<=R()-this.mj&&!this.Uf&&15>Pa(this.dh,this.eh,this.x,this.y)&&(this.kh=!0,a.pc=this.Of,a.Ge=this.id,a.je=b,a.b.trigger(Z.prototype.d.dn,a),a.vc=this.x,a.wc=this.y,a.b.trigger(Z.prototype.d.en,a),a.je=0)};var d=-1E3,w=-1E3,x=-1E4;n.prototype.ql=function(a,b){if(!this.kh){var c=R();333>=c-this.mj&&!this.Uf&&15>Pa(this.dh,this.eh,this.x,
this.y)&&(a.pc=this.Of,a.Ge=this.id,a.je=b,666>=c-x&&25>Pa(d,w,this.x,this.y)?(a.b.trigger(Z.prototype.d.bn,a),a.vc=this.x,a.wc=this.y,a.b.trigger(Z.prototype.d.cn,a),w=d=-1E3,x=-1E4):(a.b.trigger(Z.prototype.d.rn,a),a.vc=this.x,a.wc=this.y,a.b.trigger(Z.prototype.d.sn,a),d=this.x,w=this.y,x=c),a.je=0)}};b.ka=function(){this.Sp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.je=this.Ge=this.pc=this.wc=this.vc=this.Mj=this.Lj=this.Kj=this.Bn=this.An=this.zn=this.Pg=this.Og=this.Ng=
0;this.Xq=0!==this.Kc[0];var a=0<this.b.Na?document:this.b.canvas,b=document;this.b.Bc?b=a=window.Canvas:this.b.eb&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.El(a)},!1),a.addEventListener("pointermove",function(a){c.Dl(a)},!1),b.addEventListener("pointerup",function(a){c.Mg(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Mg(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.El(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Dl(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Mg(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Mg(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Hl(a)},!1),a.addEventListener("touchmove",function(a){c.Gl(a)},!1),b.addEventListener("touchend",function(a){c.Qi(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Qi(a,!0)},!1));if(this.Sp){var d=function(a){a=a.reading;c.Kj=a.accelerationX;c.Lj=a.accelerationY;
c.Mj=a.accelerationZ},e=function(a){a=a.reading;c.Ng=a.yawDegrees;c.Og=a.pitchDegrees;c.Pg=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.Ng=a.alpha||0;c.Og=a.beta||0;c.Pg=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.zn=a.accelerationIncludingGravity.x||0,c.An=a.accelerationIncludingGravity.y||0,c.Bn=a.accelerationIncludingGravity.z||
0);a.acceleration&&(c.Kj=a.acceleration.x||0,c.Lj=a.acceleration.y||0,c.Mj=a.acceleration.z||0)},!1);this.Xq&&!this.b.oa&&(jQuery(document).mousemove(function(a){c.hq(a)}),jQuery(document).mousedown(function(a){c.gq(a)}),jQuery(document).mouseup(function(a){c.iq(a)}));!this.b.yg&&this.b.fb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(k,null,{frequency:40});this.b.Pq(this)};b.Dl=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.$e(a.pointerId),d=R();if(0<=b){var e=this.b.oa?c:jQuery(this.b.canvas).offset(),b=this.touches[b];2>d-b.time||b.update(d,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};b.El=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var b=this.b.oa?c:jQuery(this.b.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;R();this.pc=this.touches.length;
this.Ge=a.pointerId;this.touches.push(m(d,b,a.pointerId,this.pc));this.b.fd=!0;this.b.trigger(Z.prototype.d.Gj,this);this.b.trigger(Z.prototype.d.Jj,this);this.vc=d;this.wc=b;this.b.trigger(Z.prototype.d.sh,this);this.b.fd=!1}};b.Mg=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var c=this.$e(a.pointerId);this.pc=0<=c?this.touches[c].Of:-1;this.Ge=0<=c?this.touches[c].id:-1;this.b.fd=!0;this.b.trigger(Z.prototype.d.Fj,
this);this.b.trigger(Z.prototype.d.Ij,this);0<=c&&(b||this.touches[c].ql(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.fd=!1}};b.Gl=function(a){a.preventDefault&&a.preventDefault();var b=R(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.$e(f.identifier),0<=g){var h=this.b.oa?c:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,f.pageX-h.left,f.pageY-h.top,2*(f.Ds||f.Ns||f.xs||f.As||0),2*(f.Es||f.Os||f.ys||f.Bs||
0),f.rs||f.Ms||f.ws||f.zs||0)}};b.Hl=function(a){a.preventDefault&&fb(a)&&a.preventDefault();var b=this.b.oa?c:jQuery(this.b.canvas).offset();R();this.b.fd=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.$e(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-b.top;this.pc=this.touches.length;this.Ge=f.identifier;this.touches.push(m(g,h,f.identifier,this.pc));this.b.trigger(Z.prototype.d.Gj,this);this.b.trigger(Z.prototype.d.Jj,this);this.vc=g;this.wc=h;this.b.trigger(Z.prototype.d.sh,
this)}this.b.fd=!1};b.Qi=function(a,b){a.preventDefault&&fb(a)&&a.preventDefault();this.b.fd=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.$e(e.identifier),0<=e&&(this.pc=this.touches[e].Of,this.Ge=this.touches[e].id,this.b.trigger(Z.prototype.d.Fj,this),this.b.trigger(Z.prototype.d.Ij,this),b||this.touches[e].ql(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.fd=!1};b.Vj=function(){return this.b.fb&&0===this.Ng&&0!==e?90*e:this.Ng};
b.ps=function(){return this.b.fb&&0===this.Og&&0!==a?90*a:this.Og};b.qs=function(){return this.b.fb&&0===this.Pg&&0!==h?90*h:this.Pg};b.gq=function(a){p(a)||(this.Hl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Li=!0)};b.hq=function(a){this.Li&&!p(a)&&this.Gl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.iq=function(a){a.preventDefault&&this.b.Dk&&!this.b.le&&a.preventDefault();this.b.Dk=!0;p(a)||(this.Qi({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.Li=!1)};b.nj=function(){var a,b,c,d=R();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Ei=d),c.aq(this,a)};u.prototype.Jj=function(){return!0};u.prototype.Ij=function(){return!0};u.prototype.sh=function(a){return a?this.b.gh(a,this.vc,this.wc):!1};u.prototype.Gj=function(a){a=Math.floor(a);return a===this.pc};u.prototype.Fj=function(a){a=Math.floor(a);return a===this.pc};u.prototype.dn=function(){return!0};u.prototype.rn=function(){return!0};u.prototype.bn=function(){return!0};
u.prototype.en=function(a){return a?this.b.gh(a,this.vc,this.wc):!1};u.prototype.sn=function(a){return a?this.b.gh(a,this.vc,this.wc):!1};u.prototype.cn=function(a){return a?this.b.gh(a,this.vc,this.wc):!1};g.d=new u;t.prototype.xn=function(a,b){var c=this.je;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.bf(0),e=d.scale,f=d.Sc,g=d.Ic,h=d.j,d.scale=1,d.Sc=1,d.Ic=1,d.j=0,a.n(d.Ja(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Sc=f,d.Ic=g,d.j=h):(d=ka(b)?this.b.bf(b):
this.b.bi(b))?a.n(d.Ja(this.touches[c].x,this.touches[c].y,!0)):a.n(0)}};t.prototype.yn=function(a,b){var c=this.je;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.bf(0),e=d.scale,f=d.Sc,g=d.Jc,h=d.j,d.scale=1,d.Sc=1,d.Jc=1,d.j=0,a.n(d.Ja(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Sc=f,d.Jc=g,d.j=h):(d=ka(b)?this.b.bf(b):this.b.bi(b))?a.n(d.Ja(this.touches[c].x,this.touches[c].y,!1)):a.n(0)}};g.nb=new t})();function dc(k){this.b=k}
(function(){function k(){}var m=dc.prototype;m.Bb=function(b){this.fa=b;this.b=b.b};m.Bb.prototype.ka=function(){};m.Ra=function(b){this.type=b;this.b=b.b};var n=m.Ra.prototype,p="",u="undefined"!==typeof window.is_scirra_arcade;u&&(p="arcade"+window.scirra_arcade_id);var t=!1;try{localStorage.getItem("test"),t=!0}catch(g){t=!1}n.ka=function(){t||y("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};m.d=new function(){};m.Db=new function(){};k.prototype.un=function(b,
c){t?b.Ba(sessionStorage.getItem(p+c)||""):b.Ba("")};k.prototype.zj=function(b){if(t){var c={},g,a,e;g=0;for(a=localStorage.length;g<a;g++)e=localStorage.key(g),u?e.substr(0,p.length)===p&&(c[e.substr(p.length)]=localStorage.getItem(e)):c[e]=localStorage.getItem(e);b.Ba(JSON.stringify({c2dictionary:!0,data:c}))}else b.Ba("")};m.nb=new k})();
function ac(){return[X,cc,bc,dc,Z,W.prototype.d.Vm,Z.prototype.d.sh,X.prototype.Db.Sm,W.prototype.Db.Rm,W.prototype.d.Pm,bc.prototype.Db.vn,W.prototype.d.Cj,W.prototype.Db.wn,dc.prototype.nb.un]};
